<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vuepress | 须贺</title>
    <meta name="generator" content="VuePress 1.8.2">
    <link rel="icon" href="/img/favicon.ico">
    <script>
          var _hmt = _hmt || [];
          (function() {
            var hm = document.createElement("script");
            hm.src = "https://hm.baidu.com/hm.js?9146a86d484b79eb7a9fab54d0655aa0";
            var s = document.getElementsByTagName("script")[0]; 
            s.parentNode.insertBefore(hm, s);
          })();
        </script>
    <script language="javascript" type="text/javascript" src="https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script language="javascript" type="text/javascript" src="/js/MouseClickEffect.js"></script>
    <meta name="description" content="《鸟欲高飞先展翅，人求上进先读书》">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    
    <link rel="preload" href="/assets/css/0.styles.c55ec633.css" as="style"><link rel="preload" href="/assets/js/app.7036e47e.js" as="script"><link rel="preload" href="/assets/js/4.ec8df83f.js" as="script"><link rel="preload" href="/assets/js/1.d2920358.js" as="script"><link rel="preload" href="/assets/js/2.245be42e.js" as="script"><link rel="preload" href="/assets/js/23.70b63e87.js" as="script"><link rel="preload" href="/assets/js/12.44af248e.js" as="script"><link rel="prefetch" href="/assets/js/10.a2ab4732.js"><link rel="prefetch" href="/assets/js/11.cb2a446e.js"><link rel="prefetch" href="/assets/js/13.fe5d2510.js"><link rel="prefetch" href="/assets/js/14.a86b66a0.js"><link rel="prefetch" href="/assets/js/15.db93f4b6.js"><link rel="prefetch" href="/assets/js/16.315be0a7.js"><link rel="prefetch" href="/assets/js/17.bb33c2d3.js"><link rel="prefetch" href="/assets/js/18.aa3bc2d5.js"><link rel="prefetch" href="/assets/js/19.eb6674e0.js"><link rel="prefetch" href="/assets/js/20.26398a86.js"><link rel="prefetch" href="/assets/js/21.8573d310.js"><link rel="prefetch" href="/assets/js/22.f39eb1c6.js"><link rel="prefetch" href="/assets/js/24.780f4265.js"><link rel="prefetch" href="/assets/js/25.087b890e.js"><link rel="prefetch" href="/assets/js/26.a3432377.js"><link rel="prefetch" href="/assets/js/27.c82078d0.js"><link rel="prefetch" href="/assets/js/28.3f62dff1.js"><link rel="prefetch" href="/assets/js/29.c935e9bc.js"><link rel="prefetch" href="/assets/js/30.4acfb7de.js"><link rel="prefetch" href="/assets/js/31.3bd52897.js"><link rel="prefetch" href="/assets/js/32.cd6a4df7.js"><link rel="prefetch" href="/assets/js/33.4f206021.js"><link rel="prefetch" href="/assets/js/34.ad299da7.js"><link rel="prefetch" href="/assets/js/35.a74cd3c6.js"><link rel="prefetch" href="/assets/js/36.a6d81e30.js"><link rel="prefetch" href="/assets/js/37.e3323ce2.js"><link rel="prefetch" href="/assets/js/38.18d7dd67.js"><link rel="prefetch" href="/assets/js/39.833f42ab.js"><link rel="prefetch" href="/assets/js/40.ed6400f3.js"><link rel="prefetch" href="/assets/js/41.81e6fc53.js"><link rel="prefetch" href="/assets/js/42.d0e39d51.js"><link rel="prefetch" href="/assets/js/43.047ac597.js"><link rel="prefetch" href="/assets/js/44.6e407d3e.js"><link rel="prefetch" href="/assets/js/45.234ad067.js"><link rel="prefetch" href="/assets/js/46.3eaaa14c.js"><link rel="prefetch" href="/assets/js/47.cd7ab522.js"><link rel="prefetch" href="/assets/js/48.d146214c.js"><link rel="prefetch" href="/assets/js/49.5412d8fd.js"><link rel="prefetch" href="/assets/js/5.83420c85.js"><link rel="prefetch" href="/assets/js/50.361271e2.js"><link rel="prefetch" href="/assets/js/51.2488c147.js"><link rel="prefetch" href="/assets/js/52.a5eb5e9f.js"><link rel="prefetch" href="/assets/js/53.c3859002.js"><link rel="prefetch" href="/assets/js/54.c572a44d.js"><link rel="prefetch" href="/assets/js/55.30248800.js"><link rel="prefetch" href="/assets/js/56.248288b0.js"><link rel="prefetch" href="/assets/js/57.3a11d1c7.js"><link rel="prefetch" href="/assets/js/58.95fa43c5.js"><link rel="prefetch" href="/assets/js/59.d002a857.js"><link rel="prefetch" href="/assets/js/6.5faf5a50.js"><link rel="prefetch" href="/assets/js/60.26b4ef39.js"><link rel="prefetch" href="/assets/js/61.7c152e5e.js"><link rel="prefetch" href="/assets/js/62.baeb52bb.js"><link rel="prefetch" href="/assets/js/63.8978958b.js"><link rel="prefetch" href="/assets/js/64.b14585b3.js"><link rel="prefetch" href="/assets/js/7.13c62f03.js"><link rel="prefetch" href="/assets/js/8.b2b362e0.js"><link rel="prefetch" href="/assets/js/9.0fd0389d.js">
    <link rel="stylesheet" href="/assets/css/0.styles.c55ec633.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar" data-v-faf1ae92><div data-v-faf1ae92><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-faf1ae92 data-v-faf1ae92><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-5cb9a64e data-v-faf1ae92 data-v-faf1ae92><h3 class="title" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e>须贺</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e><input type="password" value="" data-v-5cb9a64e> <span data-v-5cb9a64e>Konck! Knock!</span> <button data-v-5cb9a64e>OK</button></label> <div class="footer" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e><span data-v-5cb9a64e><i class="iconfont reco-theme" data-v-5cb9a64e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-5cb9a64e>vuePress-theme-reco</a></span> <span data-v-5cb9a64e><i class="iconfont reco-copyright" data-v-5cb9a64e></i> <a data-v-5cb9a64e><span data-v-5cb9a64e>🎈</span>
            
          <span data-v-5cb9a64e>2021 - </span>
          2023
        </a></span></div></div> <div class="hide" data-v-faf1ae92><div data-v-faf1ae92><div id="smart" class="wrapper-page" style="background-image:url(/img/bjt3.jpg);background-position-x:center;background-position-y:center;background-size:cover;background-repeat-x:no-repeat;background-repeat-y:no-repeat;" data-v-faf1ae92><header class="navbar" data-v-faf1ae92><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/favicon.ico" alt="须贺" class="logo"> <span class="site-name">须贺</span></a> <div class="links"><div id="dayNightSwitch" class="generalWrapper" data-v-32f44868><a class="click" data-v-32f44868><div class="onOff daySwitch" data-v-32f44868><div class="star star1" data-v-32f44868></div> <div class="star star2" data-v-32f44868></div> <div class="star star3" data-v-32f44868></div> <div class="star star4" data-v-32f44868></div> <div class="star star5" data-v-32f44868></div> <div class="star sky" data-v-32f44868></div> <div class="sunMoon" data-v-32f44868><div class="crater crater1" data-v-32f44868></div> <div class="crater crater2" data-v-32f44868></div> <div class="crater crater3" data-v-32f44868></div> <div class="cloud part1" data-v-32f44868></div> <div class="cloud part2" data-v-32f44868></div></div></div></a></div> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/java/" class="nav-link"><i class="iconfont undefined"></i>
  java
</a></li><li class="dropdown-item"><!----> <a href="/categories/其他/" class="nav-link"><i class="iconfont undefined"></i>
  其他
</a></li><li class="dropdown-item"><!----> <a href="/categories/收藏/" class="nav-link"><i class="iconfont undefined"></i>
  收藏
</a></li><li class="dropdown-item"><!----> <a href="/categories/前端/" class="nav-link"><i class="iconfont undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/categories/安装/" class="nav-link"><i class="iconfont undefined"></i>
  安装
</a></li><li class="dropdown-item"><!----> <a href="/categories/笔记/" class="nav-link"><i class="iconfont undefined"></i>
  笔记
</a></li><li class="dropdown-item"><!----> <a href="/categories/踩坑/" class="nav-link"><i class="iconfont undefined"></i>
  踩坑
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="/view/reward/" class="nav-link"><i class="iconfont undefined"></i>
  奖励
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont reco-account"></i>
  关于
</a></div> <!----></nav></div></header> <div class="sidebar-mask" data-v-faf1ae92></div> <aside class="sidebar" data-v-faf1ae92><div class="personal-info-wrapper" data-v-03833281 data-v-faf1ae92><img src="/img/author.png" alt="author-avatar" class="personal-img" data-v-03833281> <h3 class="name" data-v-03833281>
    🎈
  </h3> <div class="num" data-v-03833281><div data-v-03833281><h3 data-v-03833281>43</h3> <h6 data-v-03833281>文章</h6></div> <div data-v-03833281><h3 data-v-03833281>32</h3> <h6 data-v-03833281>标签</h6></div></div> <hr data-v-03833281></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  主页
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      分类
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/java/" class="nav-link"><i class="iconfont undefined"></i>
  java
</a></li><li class="dropdown-item"><!----> <a href="/categories/其他/" class="nav-link"><i class="iconfont undefined"></i>
  其他
</a></li><li class="dropdown-item"><!----> <a href="/categories/收藏/" class="nav-link"><i class="iconfont undefined"></i>
  收藏
</a></li><li class="dropdown-item"><!----> <a href="/categories/前端/" class="nav-link"><i class="iconfont undefined"></i>
  前端
</a></li><li class="dropdown-item"><!----> <a href="/categories/安装/" class="nav-link"><i class="iconfont undefined"></i>
  安装
</a></li><li class="dropdown-item"><!----> <a href="/categories/笔记/" class="nav-link"><i class="iconfont undefined"></i>
  笔记
</a></li><li class="dropdown-item"><!----> <a href="/categories/踩坑/" class="nav-link"><i class="iconfont undefined"></i>
  踩坑
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  标签
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  时间轴
</a></div><div class="nav-item"><a href="/view/reward/" class="nav-link"><i class="iconfont undefined"></i>
  奖励
</a></div><div class="nav-item"><a href="/about/" class="nav-link"><i class="iconfont reco-account"></i>
  关于
</a></div> <!----></nav> <!----> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-5cb9a64e data-v-faf1ae92><h3 class="title" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e>vuepress</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e><input type="password" value="" data-v-5cb9a64e> <span data-v-5cb9a64e>Konck! Knock!</span> <button data-v-5cb9a64e>OK</button></label> <div class="footer" style="display:none;" data-v-5cb9a64e data-v-5cb9a64e><span data-v-5cb9a64e><i class="iconfont reco-theme" data-v-5cb9a64e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-5cb9a64e>vuePress-theme-reco</a></span> <span data-v-5cb9a64e><i class="iconfont reco-copyright" data-v-5cb9a64e></i> <a data-v-5cb9a64e><span data-v-5cb9a64e>🎈</span>
            
          <span data-v-5cb9a64e>2021 - </span>
          2023
        </a></span></div></div></div> <div data-v-faf1ae92><main class="page"><div class="page-title" style="display:none;"><h1 class="title">vuepress</h1> <div class="page-info" data-v-0efa1f05><i class="iconfont reco-account" data-v-0efa1f05><span data-v-0efa1f05>🎈</span></i> <i class="iconfont reco-date" data-v-0efa1f05><span data-v-0efa1f05>2021-08-13</span></i> <i class="iconfont reco-eye" data-v-0efa1f05><span id="/view/docs/other/2021/0815.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-0efa1f05><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="iconfont reco-tag tags" data-v-0efa1f05><span class="tag-item" data-v-0efa1f05>vuepress</span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><div class="custom-block tip"><p class="custom-block-title">vuepress</p> <p>🎈<br></p></div> <h2 id="搭建vuepress博客"><a href="#搭建vuepress博客" class="header-anchor">#</a> 搭建vuepress博客</h2> <h3 id="vupress介绍"><a href="#vupress介绍" class="header-anchor">#</a> <strong>vupress介绍</strong></h3> <hr> <p>vuepress是Vue 驱动的静态网站生成器,支持<code>vue</code>语法，内置<a href="https://www.webpackjs.com/" target="_blank" rel="noopener noreferrer">webpack<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>由<strong>vuepress</strong>生成的页面都是通过<code>SSR</code>预渲染的<code>HTML</code>，具有非常好的加载性能和搜索引擎优化，非常适合用来做项目文档。</p> <p>vupress分为俩部分：</p> <ul><li>静态网站生成器（主题系统和插件api）</li> <li>默认主题</li></ul> <p>支持markdown、vue组件、html、css等</p> <p>官网：<a href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer">vuepress<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>  官方文档步骤更详细</p> <p>推荐主题reco, vdoing等等</p> <h3 id="reco主题"><a href="#reco主题" class="header-anchor">#</a> <strong>reco主题</strong></h3> <hr> <p>本博客就是使用reco主题</p> <blockquote><p>他是一款简洁而优雅的 vuepress 博客 &amp; 文档 主题。<a href="http://vuepress-theme-reco.recoluan.com/" target="_blank" rel="noopener noreferrer">reco官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>配置之前的所需环境:</p> <ul><li>安装node</li> <li>安装git</li> <li>安装yarn 或者 cnpm （因为比较快）</li> <li>还有一款好的编译器 例如： vscode</li></ul> <p>建议先查阅官方文档 教程都很详细</p> <p>快速上手</p> <details class="custom-block details"><summary>查看教程</summary> <hr> <p>选择好一个文件夹  vscode打开 再打开控制台 创建项目</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> -g vuepress //全局安装git
npx @vuepress-reco/theme-cli init recodemo
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p><img src="https://gitee.com/axcmsm/tmp/raw/master/20210815182819.png" alt=""></p> <p>切换到创建好的目录</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code> //下载依赖
<span class="token builtin class-name">cd</span> .<span class="token punctuation">\</span>recodemo<span class="token punctuation">\</span>
 
<span class="token function">yarn</span> <span class="token function">install</span>
  or
<span class="token function">npm</span> <span class="token function">install</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>构建好项目后就可以运行项目</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">yarn</span> run dev
or
<span class="token function">npm</span> run dev
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>在本地访问localhost:8080端口即可</p> <p>生成静态文件、方便部署，如果gitee或github此时将静态文件部署即可</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> run build
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>部署</strong></p> <hr> <ul><li>可选择网站托管服务 例如github和gitee以及coding等托管平台，进行托管，一般选择国内访问速度比较快。</li> <li>腾讯云、阿里云服务器等 进行部署</li></ul> <blockquote><p>如果是通过托管平台进行部署，可以直接上传生成的静态文件，也可以开俩个分支一个push源码，一个push展示的静态页面。</p> <p>如果是部署到服务器上的话，创建一个私密仓库，把源码push上去，然后再拉到服务器里面启动即可，再创建俩个脚本，一个后台启动，一个定时调度拉取源码更新即可。</p></blockquote> <p><strong>gitee步骤</strong>：</p> <ol><li><p>登录gitee</p></li> <li><p>创建仓库</p> <ul><li>创建仓库一：{username}.gitee.io  （username必须和账号一样）</li> <li>新建仓库二：名称自取（主要是备份）</li> <li>二者关系：仓库一负责展示网站内容，仓库二负责日常开发和新增内容，完成后再把代码发布到仓库一</li></ul></li> <li><p>关联本地项目与gitee仓库</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 先cd到你的demo
cd vuepress-demo
// git初始化
git init
// 关联github仓库
git remote add origin git@github.com:nan-gong/vuepress-demo.git
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>根目录下新建<code>deploy.sh</code>:</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/usr/bin/env sh</span>

<span class="token comment"># 确保脚本抛出遇到的错误</span>
<span class="token builtin class-name">set</span> -e

<span class="token comment"># 生成静态文件</span>
<span class="token function">npm</span> run build

<span class="token comment"># 进入生成的文件夹</span>
<span class="token builtin class-name">cd</span> docs/.vuepress/dist

<span class="token comment"># 如果是发布到自定义域名</span>
<span class="token comment"># echo 'www.yourwebsite.com' &gt; CNAME</span>

<span class="token function">git</span> init
<span class="token function">git</span> <span class="token function">add</span> -A
<span class="token function">git</span> commit -m <span class="token string">'deploy'</span>

<span class="token comment"># 如果你想要部署到 https://USERNAME.github.io</span>
<span class="token function">git</span> push -f git@github.com:nan-gong/nan-gong.github.io.git master

<span class="token comment"># 如果发布到 https://USERNAME.github.io/&lt;REPO&gt;  REPO=github上的项目</span>
<span class="token comment"># git push -f git@github.com:USERNAME/&lt;REPO&gt;.git master:gh-pages</span>

<span class="token builtin class-name">cd</span> -
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br></div></div></li> <li><p>根目录新建README.md</p> <ul><li>此文件描述项目使用、与里面的内容无关</li></ul></li> <li><p>git提交</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>// 提交到暂存区
<span class="token function">git</span> <span class="token function">add</span> <span class="token builtin class-name">.</span>
// 提交到本地仓库
<span class="token function">git</span> commit -m <span class="token string">'基本搭建完毕'</span>
// push到github仓库
<span class="token function">git</span> push --set-upstream origin master
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>新建deploy指令并执行</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>package.json 文件夹中添加发布命令：

<span class="token string">&quot;scripts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
  <span class="token string">&quot;deploy&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;bash deploy.sh&quot;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li></ol> <hr> <p><strong>部署到github</strong></p> <p>创建makefile发布脚本</p> <p>提示</p> <p>此处为了使用到 github 的免费 cdn(cdn.jsdelivr.net)服务， 则同时发布到 github, 并修改 html 文件，修改相关地址为 cdn 地址，以加快页面访问。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 发布到githubpublish_to_github:	</span>
./deploy.sh
<span class="token comment"># 发布: 先发布到github, 再发布到自己的服务器</span>
publish: publish_to_github	
<span class="token comment"># 将静态文件引用地址改为github的cdn加速地址	</span>
<span class="token function">find</span> ./docs/.vuepress/dist -type f <span class="token operator">|</span> <span class="token function">xargs</span> -I <span class="token string">'{}'</span> <span class="token function">sed</span> -i <span class="token string">'s/\/assets/https:\/\/cdn.jsdelivr.net\/gh\/wangshibiaoFlytiger\/blog@gh-pages\/assets/g'</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>	
<span class="token comment"># 上传程序到服务器</span>
<span class="token function">scp</span> -r ./docs/.vuepress/dist/* 
aliyun_server:/data/static-file/blog/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ol><li>执行发布任务 make publish</li></ol> <hr> <p><strong>补充：</strong></p> <p>本地也可以新建俩个脚本、一个push博客页面、一个push博客源码 （开俩分支）</p> <p>编写  <code>.gitignore</code>文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>node_modules/docs/.vuepress/themepackage-lock.jsonpublic/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>deploy.sh</strong>用来打包博客，并将打包完成的页面文件推送到我们的仓库</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 构建 生成html文件npm run build# 切换到pubilc目录cd public #初始化 依赖  推送到本地仓库git initgit add -Agit commit -m 'deploy'# 推送到gitee仓库 master分支git push -f git@gitee.com:ascmsm/docs.io.git master#返回根目录cd ../# 删除public 页面元素rm -rf public</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>push.sh</strong>用来推送博客源码文件</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 添加到本地仓库git add .git commit -m 'push'# 推送不带html 文件的源码  到 名为blogcode的分支git push origin blogcode	</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>注意：配置时看准目录是否一致</p></blockquote> <p><img src="https://img.lookroot.cn/blog/202005/15/205609-239671.png" alt="目录"></p> <p><strong>部署到服务器步骤</strong> ：</p> <ul><li><p>创建gitee仓库</p> <ol><li>配置密钥</li> <li>拉取仓库</li> <li>将代码拷贝到仓库</li> <li>push到仓库</li></ol></li> <li><p>服务器配置环境</p> <ol><li><p>安装git 和node</p> <div class="language- line-numbers-mode"><pre class="language-text"><code># 安装 git
$ yum install -y git
# 查看版本
$ git --version
# 设置git用户信息
$ git config --global user.name &quot;Your Name&quot;
$ git config --global user.email &quot;email@example.com&quot;
#安装node# 下载最新版本包 https://nodejs.org/dist
$ wget https://nodejs.org/dist/v14.5.0/node-v14.5.0-darwin-x64.tar.gz
# 解压
$ tar -xvf node-v14.5.0-darwin-x64.tar.gz
# 建立软链接
$ ln -s ~/node-v10.13.0-linux-x64/bin/node /usr/bin/node
$ ln -s ~/node-v10.13.0-linux-x64/bin/npm /usr/bin/npm
# 检查版本
$ node -v$ npm -v
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><blockquote><p>注意：查看node配置的路径下载的路径是否跟我一样</p></blockquote></li> <li><p>生成ssh公私钥</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 与windows一样，生成ssh$ ssh-keygen -t rsa -C &quot;youremail@example.com&quot;# 需要将linux上的公钥，配置到gitee/github上面，添加之后才能clone</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>到gitee配置公钥</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 在home目录下，创建deploy目录，并作为vuepress源码的存放目录$ cd /home$ mkdir deploy$ cd deploy# 拉取gitee仓库的源码(此处改为你仓库的路径)$ git clone git@gitee.com:axcmsm/docs.git</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>进入克隆下来的仓库，初始化</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ cd docs# $ npm install# 以前台的方式运行，查看控制台端口，我这边设置的是8080$ npm run dev注：这种运行方式，不能`ctrl+d`退出，否则进程被杀死，一般我们以nohup的方式启动，如下
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>配置脚本启动</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 在it235目录中创建start.sh脚本$ touch start.sh# 授予权限$ chmod 775 start.sh# 编辑启动脚本$ vim start.sh</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>start.sh`脚本如下</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token shebang important">#!/bin/bash</span>
<span class="token comment"># 切入源码目录，以确保能正常执行</span>
<span class="token builtin class-name">cd</span> /home/deploy/docs
<span class="token comment"># 拉取最新代码</span>
<span class="token function">git</span> pull
<span class="token comment"># 杀死目前已启动进程</span>
<span class="token assign-left variable">ID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ps</span> -ef<span class="token operator">|</span><span class="token function">grep</span> node <span class="token operator">|</span> <span class="token function">grep</span> vuepress<span class="token operator">|</span><span class="token function">awk</span> <span class="token string">'{print $2}'</span><span class="token variable">`</span></span><span class="token builtin class-name">echo</span> --- the process is <span class="token variable">$ID</span> ---kill -9  <span class="token variable">$IDecho</span>  <span class="token string">&quot;Killed <span class="token variable">$ID</span>&quot;</span>
<span class="token comment"># 启动</span>
<span class="token function">nohup</span> <span class="token function">npm</span> run docs:dev<span class="token operator">&amp;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>按esc ，输入:wq，保存退出后，使用<code>./start.sh</code>来启动程序</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 执行启动命令</span>
$ ./start.sh
<span class="token comment"># 查看运行日志</span>
$ <span class="token function">tail</span> -222f nohup.out
<span class="token comment"># 使用curl检测程序是否正常运行</span>
$ <span class="token function">curl</span> http://localhost:8080 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>下载nginx配置nginx  做域名解析 #ssl证书(https)</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 进入/usr/local/nginx/conf/目录</span>
$ <span class="token function">vim</span> nginx.conf
<span class="token comment"># 在最后一行大括号结束之前，加入以下配置，并将it235换成你的域名	</span>
<span class="token comment"># 所有http的请求，统一发到https请求上</span>
server <span class="token punctuation">{</span>    	listen <span class="token number">80</span><span class="token punctuation">;</span>    	server_name www.axcmsm.com *.axcmsm.com<span class="token punctuation">;</span>    	rewrite ^<span class="token punctuation">(</span>.*<span class="token punctuation">)</span>$  https://<span class="token variable">$host</span><span class="token variable">$1</span> permanent<span class="token punctuation">;</span>	<span class="token punctuation">}</span>	
<span class="token comment"># 未带www的请求，统一分发到https://www上	</span>
server <span class="token punctuation">{</span>        listen <span class="token number">80</span><span class="token punctuation">;</span>		listen <span class="token number">443</span> ssl<span class="token punctuation">;</span>        server_name  axcmsm.com<span class="token punctuation">;</span>		<span class="token builtin class-name">return</span> <span class="token number">301</span> https://www.axcmsm.com<span class="token variable">$request_uri</span><span class="token punctuation">;</span>	<span class="token punctuation">}</span>	
<span class="token comment"># https 请求处理    </span>
server <span class="token punctuation">{</span>		
listen <span class="token number">443</span> default_server ssl<span class="token punctuation">;</span>
server_name  www.axcmsm.com<span class="token punctuation">;</span>
ssl_certificate /etc/letsencrypt/live/axcmsm.com/fullchain.pem<span class="token punctuation">;</span>
ssl_certificate_key /etc/letsencrypt/live/axcmsm.com/privkey.key<span class="token punctuation">;</span>
large_client_header_buffers <span class="token number">4</span> 16k<span class="token punctuation">;</span>   
client_max_body_size 30m<span class="token punctuation">;</span>  
client_body_buffer_size 128k<span class="token punctuation">;</span>
<span class="token comment"># 域名默认映射到 http://127.0.0.1:8080</span>
location / <span class="token punctuation">{</span>     
proxy_pass http://127.0.0.1:8080<span class="token punctuation">;</span>
proxy_redirect off<span class="token punctuation">;</span>   
proxy_set_header Host <span class="token variable">$host</span><span class="token punctuation">;</span> 
proxy_set_header X-Real-IP <span class="token variable">$remote_addr</span><span class="token punctuation">;</span>    
proxy_set_header X-Forwarded-For <span class="token variable">$proxy_add_x_forwarded_for</span><span class="token punctuation">;</span>   
proxy_set_header Upgrade <span class="token variable">$http_upgrade</span><span class="token punctuation">;</span>       
proxy_set_header Connection <span class="token string">&quot;upgrade&quot;</span><span class="token punctuation">;</span>   
root html<span class="token punctuation">;</span>        
index index.html index.html<span class="token punctuation">;</span>    
<span class="token punctuation">}</span>	<span class="token punctuation">}</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br></div></div><blockquote><p>注意：</p> <p>ssl_certificate  和 ssl_certificate_key 是你pem和sslkey的存放路径</p></blockquote> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment"># 验证nginx配置文件是否正确</span>
$ /usr/local/nginx/sbin/nginx -t
<span class="token comment"># 重新加载nginx配置文件，重新加载才会生效</span>
$ /usr/local/nginx/sbin/nginx -s reload 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>最终：访问部署的网站成功并且加上锁即可</p></li> <li><p>设置自动构建发布</p> <p>接口核心代码编写</p> <div class="language-java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>webhook<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">Logger</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>slf4j<span class="token punctuation">.</span></span><span class="token class-name">LoggerFactory</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Value</span><span class="token punctuation">;</span><span class="token keyword">import</span> <span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token operator">*</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">File</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">Map</span><span class="token punctuation">;</span><span class="token annotation punctuation">@RestController</span><span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;webhook&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">PullController</span> <span class="token punctuation">{</span>    
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${shell.startFileName:start.sh}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> startFileName<span class="token punctuation">;</span> 
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${shell.directory}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> directory<span class="token punctuation">;</span> 
    <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;${shell.token:zhima123}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> token<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">PullController</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
    <span class="token comment">/**     
    * 请求     
    * @param userAgent
    * @param giteeToken
    * @param giteeEvent
    * @return
    * @throws IOException 
    */</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;it235&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">auto</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;User-Agent&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> userAgent<span class="token punctuation">,</span>
                       <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;X-Gitee-Token&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> giteeToken<span class="token punctuation">,</span> 
                       <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span><span class="token string">&quot;X-Gitee-Event&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> giteeEvent<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>  
        <span class="token comment">//git-oschina-hook</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;User-Agent:{}&quot;</span><span class="token punctuation">,</span> userAgent<span class="token punctuation">)</span><span class="token punctuation">;</span> 
        <span class="token comment">//zhimaxxx</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;X-Gitee-Token:{}&quot;</span><span class="token punctuation">,</span> giteeToken<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//Push Hook</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;Gitee-Event:{}&quot;</span><span class="token punctuation">,</span> giteeEvent<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token string">&quot;git-oschina-hook&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>userAgent<span class="token punctuation">)</span> 
           <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;PUSH HOOK&quot;</span><span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>giteeEvent<span class="token punctuation">)</span> 
           <span class="token operator">&amp;&amp;</span> token<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>giteeToken<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">{</span> 
            <span class="token comment">//才去调用shell脚本</span>
            <span class="token function">executeShell</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> <span class="token string">&quot;ok&quot;</span><span class="token punctuation">;</span> 
        <span class="token punctuation">}</span> 
        <span class="token keyword">return</span> <span class="token string">&quot;非法调用&quot;</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>   
    <span class="token comment">/**     
    * 执行脚本 
    * @throws IOException 
    */</span>   
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">executeShell</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>  
        <span class="token class-name">String</span> fullName <span class="token operator">=</span> <span class="token function">getFullName</span><span class="token punctuation">(</span>startFileName<span class="token punctuation">)</span><span class="token punctuation">;</span>    
        <span class="token class-name">File</span> file <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>fullName<span class="token punctuation">)</span><span class="token punctuation">;</span>  
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token operator">!</span>file<span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>   
            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;file {} not existed!&quot;</span><span class="token punctuation">,</span> fullName<span class="token punctuation">)</span><span class="token punctuation">;</span>   
            <span class="token keyword">return</span><span class="token punctuation">;</span>      
        <span class="token punctuation">}</span>
        
    <span class="token comment">//赋予755权限并调用</span>
        <span class="token class-name">ProcessBuilder</span> processBuilder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ProcessBuilder</span><span class="token punctuation">(</span><span class="token string">&quot;/bin/chmod&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;755&quot;</span><span class="token punctuation">,</span> fullName<span class="token punctuation">)</span><span class="token punctuation">;</span>
        processBuilder<span class="token punctuation">.</span><span class="token function">directory</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span>directory<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Process</span> process <span class="token operator">=</span> processBuilder<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> runningStatus <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">try</span> <span class="token punctuation">{</span> 
            runningStatus <span class="token operator">=</span> process<span class="token punctuation">.</span><span class="token function">waitFor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;shell&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>        
        <span class="token keyword">if</span><span class="token punctuation">(</span>runningStatus <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            logger<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;failed.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
            logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;success.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> 
    <span class="token punctuation">}</span>    
    <span class="token comment">/** 
    *文件调用全路径
    * @param fileName
    * @return
    */</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> <span class="token function">getFullName</span><span class="token punctuation">(</span><span class="token class-name">String</span> fileName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> directory <span class="token operator">+</span> <span class="token class-name">File</span><span class="token punctuation">.</span>separator <span class="token operator">+</span> fileName<span class="token punctuation">;</span> 
    <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br></div></div></li> <li><p>webhooks自动触发 到gitee配置自动触发构建</p> <ul><li>打开仓库&gt;管理&gt;webhooks&gt;添加</li></ul></li></ol> <hr> <p>以上就是部署的步骤了.如果你还想安装一些插件的话,就继续往下阅读，</p> <p>其中reco主题内置了一些插件，就无需重复安装了，在package.json的dependencies里查看内置的插件</p> <hr></li></ul> <p><strong><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fdeveloper.mozilla.org%2Fen-US%2Fdocs%2FWeb%2FManifest" target="_blank" rel="noopener noreferrer">PWA<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></strong> (可选)</p> <hr> <p>PWA，即progressive web apps，以web的形式给你原生app的体验</p> <ol><li><p>config.js添加配置：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>head: <span class="token punctuation">[</span> // 注入到当前页面的 HTML <span class="token operator">&lt;</span>head<span class="token operator">&gt;</span> 中的标签 
<span class="token punctuation">[</span><span class="token string">'link'</span>, <span class="token punctuation">{</span> rel: <span class="token string">'manifest'</span>, href: <span class="token string">'/photo.jpg'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>,
<span class="token punctuation">[</span><span class="token string">'link'</span>, <span class="token punctuation">{</span> rel: <span class="token string">'apple-touch-icon'</span>, href: <span class="token string">'/photo.jpg'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>,
<span class="token punctuation">]</span>,
serviceWorker: <span class="token boolean">true</span> // 是否开启 PWA
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div></li> <li><p>public 文件夹下新建 manifest.json 文件，添加：</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">{</span>    
<span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;名称&quot;</span>,
<span class="token string">&quot;short_name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;名称&quot;</span>,
<span class="token string">&quot;start_url&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;index.html&quot;</span>,
<span class="token string">&quot;display&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;standalone&quot;</span>,
<span class="token string">&quot;background_color&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;#2196f3&quot;</span>,
<span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;简介&quot;</span>, 
<span class="token string">&quot;theme_color&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;blue&quot;</span>, 
<span class="token string">&quot;icons&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span> 
<span class="token punctuation">{</span> 
<span class="token string">&quot;src&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;./avatar.png&quot;</span>,
<span class="token string">&quot;sizes&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;144x144&quot;</span>,
<span class="token string">&quot;type&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;image/png&quot;</span> 
<span class="token punctuation">}</span>    <span class="token punctuation">]</span>, 
<span class="token string">&quot;related_applications&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span> 
<span class="token punctuation">{</span>       
<span class="token string">&quot;platform&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;web&quot;</span>
<span class="token punctuation">}</span>, 
<span class="token punctuation">{</span>  
<span class="token string">&quot;platform&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;play&quot;</span>, 
<span class="token string">&quot;url&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;https://play.google.com/store/apps/details?id=cheeaun.hackerweb&quot;</span>
<span class="token punctuation">}</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div></li> <li><p>重新部署：<code>npm run deploy</code></p></li> <li><p>移动端操作查看</p></li></ol></details> <hr> <h2 id="reco的一些插件"><a href="#reco的一些插件" class="header-anchor">#</a> reco的一些插件</h2> <hr> <p>此段展示reco主题的一些插件</p> <blockquote><p>提示：插件要用<strong>中括号包起来</strong></p></blockquote> <details class="custom-block details"><summary>点击查看详情</summary> <h3 id="看板娘"><a href="#看板娘" class="header-anchor">#</a> <strong>看板娘：</strong></h3> <p>@vuepress-reco/vuepress-plugin-kan-ban-niang</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token string">&quot;@vuepress-reco/vuepress-plugin-kan-ban-niang&quot;</span><span class="token punctuation">,</span>      <span class="token punctuation">{</span> 
    <span class="token comment">//主题 </span>
    theme<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;blackCat&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    clean<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    messages<span class="token operator">:</span> <span class="token punctuation">{</span> 
        welcome<span class="token operator">:</span> <span class="token string">'欢迎你来啦 我是肥猫 '</span><span class="token punctuation">,</span>
        home<span class="token operator">:</span> <span class="token string">'心里的花，我想要带你回家。'</span><span class="token punctuation">,</span> 
        theme<span class="token operator">:</span> <span class="token string">'好吧，希望你能喜欢我的其他小伙伴。'</span><span class="token punctuation">,</span> 
        close<span class="token operator">:</span> <span class="token string">'再见哦'</span>
        <span class="token comment">//还可以设置宽高 透明度按钮等 </span>
    <span class="token punctuation">}</span>      <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h3 id="自动生成侧边栏插件"><a href="#自动生成侧边栏插件" class="header-anchor">#</a> <strong>自动生成侧边栏插件：</strong></h3> <p><a href="https://github.com/shanyuhai123/vuepress-plugin-auto-sidebar" target="_blank" rel="noopener noreferrer">vuepress-plugin-auto-sidebar <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>先安装依赖<code>npm i vuepress-plugin-auto-sidebar -D</code> 然后修改config.js配置  删除手动配置</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&quot;plugins&quot;: {  &quot;vuepress-plugin-auto-sidebar&quot;: {}}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><blockquote><p>访问根目录要加readme.md</p></blockquote> <h3 id="修改主题颜色"><a href="#修改主题颜色" class="header-anchor">#</a> <strong>修改主题颜色：</strong></h3> <p>配置 .vuepress/styles/palette.styl 来快速修改主题的一些颜色属性（没有就创建）</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>// 默认值
<span class="token variable">$accentColor</span> <span class="token operator">=</span> <span class="token comment">#3eaf7c                      // 主题颜色</span>
<span class="token variable">$textColor</span> <span class="token operator">=</span> <span class="token comment">#2c3e50                        // 文本颜色</span>
<span class="token variable">$borderColor</span> <span class="token operator">=</span> <span class="token comment">#eaecef                      // 边框线颜色</span>
<span class="token variable">$codeBgColor</span> <span class="token operator">=</span> <span class="token comment">#282c34                      // 代码块背景色</span>
<span class="token variable">$backgroundColor</span> <span class="token operator">=</span> <span class="token comment">#ffffff                  // 悬浮块背景色</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="修改主题样式"><a href="#修改主题样式" class="header-anchor">#</a> <strong>修改主题样式：</strong></h3> <p>创建一个 .vuepress/styles/index.styl 文件以方便地添加额外样式，这是一个 Stylus 文件，但你也可以使用正常的 CSS 语法，看个人需求</p> <div class="language-css line-numbers-mode"><pre class="language-css"><code><span class="token selector">// 侧边栏样式
// 左侧侧边栏标题
.sidebar &gt; .sidebar-links &gt; li &gt; a.sidebar-link</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 1.5em <span class="token important">!important</span><span class="token punctuation">;</span>
  <span class="token property">margin-left</span><span class="token punctuation">:</span> -1em<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">// 右侧文章标题导航栏
a.sidebar-link</span> <span class="token punctuation">{</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 16px <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">// 左侧边栏标题字体大小样式
.sidebar-heading span</span><span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 1.2em<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
<span class="token selector">.sidebar-heading.open span</span><span class="token punctuation">{</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> bold<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token selector">// 左侧边栏展开文章的字体大小
a.sidebar-link.active</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #070808 <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 14px <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">background</span><span class="token punctuation">:</span> #c3d4b742 <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">.sidebar-sub-headers a.sidebar-link</span> <span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 0 1rem 0 1rem <span class="token important">!important</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token selector">// 分组的透明度修改，未生效
.sidebar-group.is-sub-group &gt; .sidebar-heading:not(.clickable)</span><span class="token punctuation">{</span>
    <span class="token property">opacity</span><span class="token punctuation">:</span> 0.5<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">// 去除左上角标题，作者，标签等
.page .page-title</span> <span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br></div></div><h3 id="引用脚本与样式"><a href="#引用脚本与样式" class="header-anchor">#</a> <strong>引用脚本与样式：</strong></h3> <p>自己写好的css和js样式进行导入</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span> 
    head<span class="token operator">:</span> <span class="token punctuation">[</span>   
        <span class="token punctuation">[</span><span class="token string">&quot;link&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> rel<span class="token operator">:</span> <span class="token string">&quot;stylesheet&quot;</span><span class="token punctuation">,</span> href<span class="token operator">:</span> <span class="token string">&quot;https://cdn.jsdelivr.net/npm/katex@0.11.1/dist/katex.min.css&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span> 
                          
        <span class="token punctuation">[</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> src<span class="token operator">:</span> <span class="token string">&quot;scripts/demo.js&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h3 id="引入鼠标点击效果"><a href="#引入鼠标点击效果" class="header-anchor">#</a> <strong>引入鼠标点击效果：</strong></h3> <p>在.vuepress\public\js文件夹下创建MouseClickEffect.js文件</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">var</span> a_idx <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token parameter">max<span class="token punctuation">,</span> min</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">floor</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token punctuation">(</span>max <span class="token operator">-</span> min <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> min<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">jQuery</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">$</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span><span class="token string">&quot;富强&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;民主&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;文明&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;和谐&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;自由&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;平等&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;公正&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;法治&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;爱国&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;敬业&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;诚信&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;友善&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> $i <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;&lt;span/&gt;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span>a<span class="token punctuation">[</span>a_idx<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        a_idx <span class="token operator">=</span> <span class="token punctuation">(</span>a_idx <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">%</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
        <span class="token keyword">var</span> x <span class="token operator">=</span> e<span class="token punctuation">.</span>pageX<span class="token punctuation">,</span>
            y <span class="token operator">=</span> e<span class="token punctuation">.</span>pageY<span class="token punctuation">;</span>
        $i<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            <span class="token string">&quot;z-index&quot;</span><span class="token operator">:</span> <span class="token number">999999999999999999999999999999999999999999999999999999999999999999999</span><span class="token punctuation">,</span>
            <span class="token string">&quot;top&quot;</span><span class="token operator">:</span> y <span class="token operator">-</span> <span class="token number">20</span><span class="token punctuation">,</span>
            <span class="token string">&quot;left&quot;</span><span class="token operator">:</span> x<span class="token punctuation">,</span>
            <span class="token string">&quot;position&quot;</span><span class="token operator">:</span> <span class="token string">&quot;absolute&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;font-weight&quot;</span><span class="token operator">:</span> <span class="token string">&quot;bold&quot;</span><span class="token punctuation">,</span>
            <span class="token string">&quot;color&quot;</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">rgb(</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">,</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token function">getRandom</span><span class="token punctuation">(</span><span class="token number">255</span><span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span>
            <span class="token string">&quot;user-select&quot;</span><span class="token operator">:</span> <span class="token string">'none'</span><span class="token punctuation">,</span>
            <span class="token string">&quot;cursor&quot;</span><span class="token operator">:</span> <span class="token string">'default'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">&quot;body&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>$i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        $i<span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                <span class="token string">&quot;top&quot;</span><span class="token operator">:</span> y <span class="token operator">-</span> <span class="token number">180</span><span class="token punctuation">,</span>
                <span class="token string">&quot;opacity&quot;</span><span class="token operator">:</span> <span class="token number">0</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token number">1500</span><span class="token punctuation">,</span>
            <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                $i<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br></div></div><p>然后在主题配置文件config.js导入脚本，因为用到jquery所以也要导一下jquery</p> <div class="language-javascript line-numbers-mode"><pre class="language-javascript"><code> head<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// 网页标签栏图标</span>
    <span class="token punctuation">[</span><span class="token string">'link'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> rel<span class="token operator">:</span> <span class="token string">'icon'</span><span class="token punctuation">,</span> href<span class="token operator">:</span> <span class="token string">'/vuepress/favicon.ico'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 移动栏优化</span>
    <span class="token punctuation">[</span><span class="token string">'meta'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'viewport'</span><span class="token punctuation">,</span> content<span class="token operator">:</span> <span class="token string">'width=device-width,initial-scale=1,user-scalable=no'</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 引入jquery</span>
    <span class="token punctuation">[</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;javascript&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text/javascript&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;src&quot;</span><span class="token operator">:</span> <span class="token string">&quot;https://cdn.bootcdn.net/ajax/libs/jquery/3.5.1/jquery.min.js&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token comment">// 引入鼠标点击脚本</span>
    <span class="token punctuation">[</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;language&quot;</span><span class="token operator">:</span> <span class="token string">&quot;javascript&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;text/javascript&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;src&quot;</span><span class="token operator">:</span> <span class="token string">&quot;/js/MouseClickEffect.js&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><h3 id="文章中引入样式和脚本"><a href="#文章中引入样式和脚本" class="header-anchor">#</a> <strong>文章中引入样式和脚本：</strong></h3> <p>在当前页面应用一些 JavaScript 或者 CSS，这样可以在Markdown文件中使用原生的语法 或者标签。它们将会从编译后的 HTML 文件中提取出来，并作为生成的 Vue 单文件组件的和标签。</p> <p>直接在当前文件输入</p> <div class="language-html line-numbers-mode"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>demo<span class="token punctuation">&quot;</span></span> <span class="token attr-name">:class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>$style.example<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span> <span class="token attr-name">module</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
<span class="token selector">.example</span> <span class="token punctuation">{</span>
  <span class="token property">color</span><span class="token punctuation">:</span> #41b883<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  props<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'slot-key'</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token function">mounted</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">.</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token keyword">this</span><span class="token punctuation">.</span>$style<span class="token punctuation">.</span>example<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">'这个块是被内联的脚本渲染的，样式也采用了内联样式。'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>输出</p> <p>因为这是内联脚本渲染，优先级较高一些。</p> <h3 id="音乐插件"><a href="#音乐插件" class="header-anchor">#</a> <strong>音乐插件：</strong></h3> <ol><li><a href="https://links.jianshu.com/go?to=https%3A%2F%2Fgithub.com%2Fmoefyit%2Fvuepress-plugin-meting" target="_blank" rel="noopener noreferrer">meting<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>：（推荐，功能强配置丰富、还支持在markdown直接插入）</li> <li>bgm-player：好看功能不强</li> <li>music-bar: 目前只支持网易云</li></ol> <p>配置完meting直接插入</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">#下载依赖</span>
<span class="token function">yarn</span> <span class="token function">add</span> vuepress-plugin-meting -D
<span class="token comment"># or</span>
use npmnpm i vuepress-plugin-meting -D
----------------------------------------
<span class="token comment">#在配置文件中添加插件配置有四个部分metingApi、meting、aplayer、mobile 四部分</span>
<span class="token comment">#栈里是简介</span>
<span class="token punctuation">{</span>
<span class="token comment"># 平台 </span>
server: <span class="token string">&quot;netease&quot;</span>,  
<span class="token comment">#  类型 列表  song单曲等等  </span>
type: <span class="token string">&quot;playlist&quot;</span>,
mid: <span class="token string">&quot;6838211960&quot;</span>,
<span class="token punctuation">}</span>
ormeting: <span class="token punctuation">{</span>
auto: <span class="token string">'https://music.163.com/#/playlist?id=6838211960'</span><span class="token punctuation">}</span>
<span class="token comment">#aplayer </span>
<span class="token comment">#展示lrcType:歌词解析模式  0禁用 1字符串 3文件</span>
listMaxHeight：不妨列表高度 默认值250 像素pxloop：循环模式 all one 
nonefixed:false 吸盘模式
mini:false 迷你模式
theme：播放器默认主题颜色
volume：0.7设置播放音量
<span class="token comment">#mobilelrc:是否显示歌词 true</span>
----------------------------------------------------------------Examples 例:
// .vuepress/config.js
module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
plugins: <span class="token punctuation">[</span>
<span class="token string">'meting'</span>,      <span class="token punctuation">{</span>         // 这个 API 是不可用的，只是作为示例而已    
metingApi: <span class="token string">'https://meting.example.com/api/'</span>,
meting: <span class="token punctuation">{</span>
server: <span class="token string">'netease'</span>,  
type: <span class="token string">'playlist'</span>,  
mid: <span class="token string">'6838211960'</span>, 
<span class="token punctuation">}</span>, 
// 不配置该项的话不会出现全局播放器
aplayer: <span class="token punctuation">{</span> 
lrcType: <span class="token number">3</span>,   
<span class="token punctuation">}</span>,   
<span class="token punctuation">}</span>,  
<span class="token punctuation">]</span>,<span class="token punctuation">}</span>
<span class="token comment"># 页面单独插入 </span>
about.md<span class="token operator">&lt;</span>Meting <span class="token assign-left variable">server</span><span class="token operator">=</span><span class="token string">&quot;netease&quot;</span>
				<span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">&quot;playlist&quot;</span>
                <span class="token assign-left variable">mid</span><span class="token operator">=</span><span class="token string">&quot;2539599584&quot;</span>
                :lrc-type<span class="token operator">=</span><span class="token string">&quot;3&quot;</span>/<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div><p>音乐外链网 <a href="https://links.jianshu.com/go?to=http%3A%2F%2Fmusic.xf1433.com%2F" target="_blank" rel="noopener noreferrer">http://music.xf1433.com/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>      aplayer  <a href="https://aplayer.js.org/#/zh-Hans/" target="_blank" rel="noopener noreferrer">https://aplayer.js.org/#/zh-Hans/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h3 id="趣味标题插件"><a href="#趣味标题插件" class="header-anchor">#</a> <strong>趣味标题插件:</strong></h3> <p>主要在标签栏当时选中和离开页面时会有变化</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> i vuepress-plugin-dynamic-title -D
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>  plugins: <span class="token punctuation">[</span>  
<span class="token punctuation">[</span>      <span class="token string">&quot;dynamic-title&quot;</span>,     
<span class="token punctuation">{</span>        showIcon: <span class="token string">&quot;/favicon.ico&quot;</span>,
showText: <span class="token string">&quot;(/≧▽≦/)咦！又好了！&quot;</span>, 
hideIcon: <span class="token string">&quot;/failure.ico&quot;</span>,       
hideText: <span class="token string">&quot;(●—●)喔哟，崩溃啦！&quot;</span>,   
recoverTime: <span class="token number">2000</span>      <span class="token punctuation">}</span>    <span class="token punctuation">]</span>  <span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="boxx插件"><a href="#boxx插件" class="header-anchor">#</a> <strong>Boxx插件:</strong></h3> <p>可以为博客<code>文章</code>自动随机添加名人名言或其他，可自定义样式和内容</p> <p>在文件package.json中的devDependencies下加入&quot;vuepress-plugin-boxx&quot;: &quot;0.0.7&quot;</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token string">&quot;devDependencies&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>    <span class="token string">&quot;vuepress-plugin-boxx&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0.0.7&quot;</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在 vuepress 的config.js中配置plugins</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>plugins: <span class="token punctuation">[</span>    <span class="token punctuation">[</span><span class="token string">&quot;vuepress-plugin-boxx&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>,
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>在package.json目录下执行命令：npm install</p> <p>启动项目即可</p> <p>使用：</p> <ul><li>引入：只需在你想要插入的地方加入<code>&lt;Boxx/&gt;</code>即可（如顶部所示）</li> <li>内容：默认随机展示名人名句，支持自定义</li> <li>样式：有三种样式，默认为 tip 样式，支持自定义</li> <li>注意：除<code>&lt;Boxx/&gt;</code>这个标签是必须外，标签属性均为可选，所有标签属性会在下文中详细介绍</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/fudalijunyi/picture-bed/img/20200714144900.png" alt="lizi"></p> <p>自定义样式</p> <p><img src="https://cdn.jsdelivr.net/gh/fudalijunyi/picture-bed/img/20200714145201.png" alt="l2"></p> <ul><li>可以通过以下几个属性实现</li></ul> <table><thead><tr><th style="text-align:left;">Name</th> <th>Type</th> <th>Description</th></tr></thead> <tbody><tr><td style="text-align:left;">blockStyle</td> <td>Object</td> <td>整体块元素的样式</td></tr> <tr><td style="text-align:left;">titleStyle</td> <td>Object</td> <td>只针对<code>title</code>的样式</td></tr> <tr><td style="text-align:left;">contentStyle</td> <td>Object</td> <td>只针对<code>content</code>的样式</td></tr> <tr><td style="text-align:left;">changeTime</td> <td>Number</td> <td>以毫秒值为单位的动态变化时间，顶部为例</td></tr></tbody></table> <p>需要注意的是：属性值传输的对象只能通过<code>v-bind:</code>绑定来实现</p> <p>例如：在Markdown中加入</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;marquee&gt;&lt;Boxx :blockStyle=&quot;blockStyle&quot;  /&gt;&lt;Boxx type=&quot;warning&quot; :blockStyle=&quot;titleStyle&quot; :titleStyle=&quot;titleStyle&quot; changeTime=&quot;1000&quot; title=&quot;我是一个大大的且变化的 title&quot;/&gt;&lt;Boxx type=&quot;danger&quot; :blockStyle=&quot;contentStyle&quot; :contentStyle=&quot;contentStyle&quot; content=&quot;我是一个小小的&lt;br&gt;&lt;marquee&gt;content&lt;/marquee&gt;&quot;/&gt;&lt;/marquee&gt;&lt;script&gt;	export default {		data() {			return {				blockStyle: {'background':'#eee','color':'red'},                titleStyle: {'margin-right': '10%','font-size':'16px'},                contentStyle: {'margin-right': '20%','font-size':'10px',                               &quot;margin-top&quot;: &quot;1rem&quot;,&quot;margin-bottom&quot;: &quot;0.4rem&quot;},			}		}	}&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="pwa插件"><a href="#pwa插件" class="header-anchor">#</a> <strong>PWA插件：</strong></h3> <p>本站更新时用于弹出一个提示用户是否刷新网页</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> -D @vuepress/plugin-pwa
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>        serviceWorker: true,        updatePopup: <span class="token punctuation">{</span>            message: <span class="token string">&quot;发现新内容可用&quot;</span>,            buttonText: <span class="token string">&quot;刷新&quot;</span>        <span class="token punctuation">}</span>    <span class="token punctuation">}</span><span class="token punctuation">]</span>,
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="复制弹窗插件"><a href="#复制弹窗插件" class="header-anchor">#</a> <strong>复制弹窗插件：</strong></h3> <p>俩个插件:</p> <p>第一个:vuepress-plugin-nuggets-style-copy</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token function">npm</span> <span class="token function">install</span> -D vuepress-plugin-nuggets-style-copy
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token punctuation">[</span><span class="token string">&quot;vuepress-plugin-nuggets-style-copy&quot;</span>, <span class="token punctuation">{</span>  copyText: <span class="token string">&quot;复制代码&quot;</span>,  tip: <span class="token punctuation">{</span>      content: <span class="token string">&quot;复制成功!&quot;</span>  <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>第二个:Vuepress Code Copy Plugin</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>$ npm install vuepress-plugin-code-copy
# OR
$ yarn add vuepress-plugin-code-copy
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><div class="language-shell line-numbers-mode"><pre class="language-shell"><code>module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>
plugins: <span class="token punctuation">[</span>   
<span class="token punctuation">[</span><span class="token string">&quot;vuepress-plugin-code-copy&quot;</span>, 
<span class="token punctuation">{</span>
// 这是复制按钮组件将附加到的CSS 选择器。
selector: div<span class="token punctuation">[</span>class*<span class="token operator">=</span><span class="token string">&quot;language-&quot;</span><span class="token punctuation">]</span> pre, 
//对其 top和bottom  
align: bottom, 
//颜色  十六进制代码
。        color: <span class="token comment">#27b1ff, </span>
// 背景过度 
backgroundTransition: true, 
//背景颜色  
backgroundColor: <span class="token comment">#0075b8,  </span>
//当用户按下复制按钮时显示的文本。
successText: <span class="token string">&quot;复制成功&quot;</span>, 
//静态图标  复制图标仅在悬停在代码块上时可见或始终可见
。        staticIcon:false  
<span class="token punctuation">}</span>    <span class="token punctuation">]</span>  <span class="token punctuation">]</span><span class="token punctuation">}</span>
//ormodule.exports <span class="token operator">=</span> <span class="token punctuation">{</span> 
plugins: <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">'vuepress-plugin-code-copy'</span>, true<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="公告弹窗插件"><a href="#公告弹窗插件" class="header-anchor">#</a> 公告弹窗插件：</h3> <p>下载</p> <p>https://www.npmjs.com/package/@vuepress-yard/vuepress-plugin-window</p> <p>修改源码</p> <p>不到<strong>迫不得已</strong>还是不要修改源码，我主要是因为使用分组的侧边栏后，如果嵌套的内容标题下，不加这个<strong>path</strong>参数(如果加了每次点侧边栏标题都会转跳，非常难受)，颜色就会偏淡，通过上文中<code>index.styl</code>无论如何也不能加深</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>children: <span class="token punctuation">[</span>    <span class="token punctuation">{</span>  
title: <span class="token string">'Matplotlib'</span>, 
// 必要的  
//path: <span class="token string">''</span>,  
// 可选的, 标题的跳转链接，应为绝对路径且必须存在 
collapsable: true, // 可选的, 默认值是 true,
children: <span class="token punctuation">[</span>      
<span class="token string">'Python/Matplotlib/Matplotlib绘图指南'</span>, 
<span class="token string">'webc/01.Requests使用技巧'</span>,  
<span class="token string">'webc/02.数据存入Excel'</span>,   
<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p><img src="https://cdn.jsdelivr.net/gh/fudalijunyi/picture-bed/img/20200711174018.png" alt="lz2"></p> <p>通过全局搜索，终于找到在源码文件<code>\xxx\blog\node_modules\vuepress-theme-reco\components\SidebarGroup.vue</code>中发现问题，罪魁祸首就是这个<code>opacity 0.5</code>，致此，将其改成1即可</p> <h3 id="全文搜索"><a href="#全文搜索" class="header-anchor">#</a> 全文搜索:</h3> <p>vuepress支持全文搜索,通过 vuepress-plugin-fulltext-search 实现</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> yarn add -D vuepress-plugin-fulltext-search
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>修改配置: vi docs/.vuepress/config.js</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>  module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>  // <span class="token punctuation">..</span>.  plugins: <span class="token punctuation">[</span><span class="token string">'fulltext-search'</span><span class="token punctuation">]</span>,  <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>展示效果和 algolia 相似</p> <blockquote><p>存在依赖冲突,关键词不显示等</p></blockquote> <hr> <p>还可以通过 vuepress-plugin-flexsearch 实现 (不匹配中文)</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn add -D vuepress-plugin-flexsearch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>修改配置</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>// .vuepress/config.jsmodule.exports <span class="token operator">=</span> <span class="token punctuation">{</span> 
plugins: <span class="token punctuation">[</span>  
<span class="token punctuation">[</span><span class="token string">'flexsearch'</span><span class="token punctuation">]</span>,    
// other plugins  
<span class="token punctuation">]</span><span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>优点:提供更多配置 和高亮</p> <blockquote><p><a href="https://github.com/z3by/vuepress-plugin-flexsearch" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></blockquote> <p>集成第三方免费搜索服务<a href="https://www.algolia.com/" target="_blank" rel="noopener noreferrer">algolia<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ul><li><p>访问<a href="https://docsearch.algolia.com/" target="_blank" rel="noopener noreferrer">Algolia DcSearch<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>填写博客的访问地址和邮箱</p> <p><img src="https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200609104358.png" alt="t1"></p></li> <li><p>Algolia DocSearch 会发送确认邮件，收回复一下，并且可以修改网站代码</p> <p><img src="https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200609104609.png" alt="t1"></p></li> <li><p>Algolia DocSearch 会发送一封使用邮件，里面有 apiKey 和 indexName</p> <p><img src="https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200609104643.png" alt="t1"></p></li> <li><p>修改配置文件 config.js</p> <p>apiKey 和 indexName 就是上面邮件中的内容</p> <p><img src="https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200609104802.png" alt="t"></p></li> <li><p>效果:</p> <p><img src="https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200609104909.png" alt="t"></p></li></ul> <p><strong>vuepress自定义vue组件</strong>:</p> <ul><li><p>创建vue组件</p> <p>在.vuepress/components目录下创建vue文件,例如:ArticleTopAd.vue</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;template&gt;  &lt;div&gt;这是自定义的组件&lt;/div&gt;&lt;/template&gt;&lt;script&gt;export default {};&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><img src="https://gitee.com/wangshibiao/blog_picBed2/raw/master/images/20200902121635.png" alt="gt"></p></li> <li><p>md文档引入vue组件</p> <p>​</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token comment">## 联系方式&lt;ArticleTopAd&gt;&lt;/ArticleTopAd&gt;_**联系方式**_</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ul> <hr></details> <hr> <h2 id="配置模板"><a href="#配置模板" class="header-anchor">#</a> 配置模板：</h2> <hr> <details class="custom-block details"><summary>详情</summary> <p>文章模板：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>---
title: 文章标题date: 2020-02-02
tags: - 标签categories: - 分类
keys: - '123456' //文章加密密码sticky: 1   //文章置顶 1, 2, 3, ...
isShowComments: false //是否开启评论
publish: true //文章是否发布
---
&lt;Boxx/&gt; //随机展示名人名言[[toc]] //目录链接- 这里可以写`摘要`等其它
&lt;!-- more --&gt; 
//在&lt;!-- more --&gt;之前的内容会展示为文章摘要## 正式开始你的markdown- I am the text...
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p><strong>推荐配置样式：</strong></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>module.exports <span class="token operator">=</span> <span class="token punctuation">[</span>    // 流程图插件    
<span class="token punctuation">[</span><span class="token string">'flowchart'</span><span class="token punctuation">]</span>,    // 标签加强    
<span class="token punctuation">[</span><span class="token string">&quot;vuepress-plugin-boxx&quot;</span> <span class="token punctuation">]</span>,    // 动态标题    
<span class="token punctuation">[</span><span class="token string">&quot;dynamic-title&quot;</span>,      <span class="token punctuation">{</span>
    showIcon: <span class="token string">&quot;vuepress/smile.ico&quot;</span>, 
    showText: <span class="token string">&quot;(/≧▽≦/)欢迎帅哥美女！&quot;</span>, 
    hideIcon: <span class="token string">&quot;vuepress/cry.ico&quot;</span>,  
    hideText: <span class="token string">&quot;(●—●)呜呜，不要走嘛！！&quot;</span>,
    recoverTime: <span class="token number">2000</span>      <span class="token punctuation">}</span><span class="token punctuation">]</span>, 
// 更新刷新插件
<span class="token punctuation">[</span><span class="token string">'@vuepress/pwa'</span>, <span class="token punctuation">{</span>
    serviceWorker: true,
    updatePopup: <span class="token punctuation">{</span>
         message: <span class="token string">&quot;发现新内容可用&quot;</span>,
         buttonText: <span class="token string">&quot;刷新&quot;</span>        <span class="token punctuation">}</span> 
<span class="token punctuation">}</span><span class="token punctuation">]</span>, 
// 代码复制弹窗插件    
<span class="token punctuation">[</span><span class="token string">&quot;vuepress-plugin-nuggets-style-copy&quot;</span>, <span class="token punctuation">{</span>  
        copyText: <span class="token string">&quot;复制代码&quot;</span>, 
        tip: <span class="token punctuation">{</span>          content: <span class="token string">&quot;复制成功!&quot;</span>      <span class="token punctuation">}</span> 
           <span class="token punctuation">}</span><span class="token punctuation">]</span>,    
// 音乐插件    
<span class="token punctuation">[</span><span class="token string">'meting'</span>, <span class="token punctuation">{</span>       
     //metingApi: <span class="token string">&quot;https://meting.sigure.xyz/api/music&quot;</span>,
        meting: <span class="token punctuation">{</span>  
                    // 网易          server: <span class="token string">&quot;netease&quot;</span>, 
                   // 读取歌单 
                            type: <span class="token string">&quot;playlist&quot;</span>,          mid: <span class="token string">&quot;696441716&quot;</span>,        <span class="token punctuation">}</span>,    
                     // 不配置该项的话不会出现全局播放器      
                     aplayer: <span class="token punctuation">{</span>      
                             // 吸底模式  
                             fixed: true,
                             // 自动播放 
                             autoplay: true,// 歌曲栏折叠 
                             listFolded:true,          // 颜色
                             theme: <span class="token string">'#f9bcdd'</span>,
                             // 播放顺序为随机 
                             order: <span class="token string">'random'</span>,
                             // 初始音量
                              volume: <span class="token number">0.1</span>, 
                             // 关闭歌词显示 
                             lrcType: <span class="token number">0</span> 
                                    <span class="token punctuation">}</span>, 
                     mobile :<span class="token punctuation">{</span> 
                             // 手机端去掉cover图
                             cover: false,      
                               <span class="token punctuation">}</span>
 <span class="token punctuation">}</span><span class="token punctuation">]</span>  
/* 弹窗公告插件
<span class="token punctuation">[</span>      <span class="token string">&quot;@vuepress-yard/vuepress-plugin-window&quot;</span>    <span class="token punctuation">]</span>, */  
/* 音乐插件
<span class="token punctuation">[</span><span class="token string">&quot;@vuepress-reco/vuepress-plugin-bgm-player&quot;</span>,        
  <span class="token punctuation">{</span>            audios: <span class="token punctuation">[</span>              
      // 网络文件示例            
        <span class="token punctuation">{</span>                name: <span class="token string">'年轮'</span>,          
              artist: <span class="token string">'张碧晨'</span>,             
              url: <span class="token string">'https://cdn.jsdelivr.net/gh/fudalijunyi/cdn/MP3/年轮.mp3'</span>,              
              cover: <span class="token string">'https://cdn.jsdelivr.net/gh/fudalijunyi/picture-bed/img/20200715154924.png'</span>              <span class="token punctuation">}</span>          
                   <span class="token punctuation">]</span> ,           
   // 自动缩小            autoShrink:true ,           
    // 悬浮窗模式，吸边            shrinkMode: <span class="token string">'float'</span> ,           
   // 悬浮窗位置            floatStyle:<span class="token punctuation">{</span> bottom: <span class="token string">'10px'</span>, <span class="token string">'z-index'</span><span class="token builtin class-name">:</span> <span class="token string">'999999'</span> <span class="token punctuation">}</span>,          <span class="token punctuation">}</span><span class="token punctuation">]</span>,*/<span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br></div></div></details> <hr> <h2 id="其他补充"><a href="#其他补充" class="header-anchor">#</a> 其他补充：</h2> <h3 id="配置广告"><a href="#配置广告" class="header-anchor">#</a> 配置广告:</h3> <hr> <details class="custom-block details"><summary>百度广告</summary> <p>集成百度广告的步骤:</p> <ul><li><p>注册<a href="https://union.baidu.com/bqt/#/register?from=ucaccount" target="_blank" rel="noopener noreferrer">百度联盟<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>账号</p></li> <li><p>创建媒体</p> <p><img src="https://gitee.com/wangshibiao/blog_picBed2/raw/master/images/20200907151828.png" alt="bt"></p> <blockquote><p>注意:必须是主域名(子域名也生效),且域名已经备案</p></blockquote> <p>然后就是等待审核了 上线初期可能会遭到申请未通过</p></li> <li><p>创建代码</p> <p>审核通过后就可以投放广告,进入百度联盟后台, 创建代码</p> <p><img src="https://gitee.com/wangshibiao/blog_picBed2/raw/master/images/20200907153923.png" alt=""></p> <p>获取代码</p> <p><img src="https://gitee.com/wangshibiao/blog_picBed2/raw/master/images/20200907154521.png" alt=""></p> <p>获取异步代码, 比同步代码有更好的用户体验</p> <p><img src="https://gitee.com/wangshibiao/blog_picBed2/raw/master/images/20200907154927.png" alt=""></p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">&quot;_ei7jzolqhvd&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>script <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span><span class="token operator">&gt;</span> 
<span class="token punctuation">(</span>window.slotbydup <span class="token operator">=</span> window.slotbydup <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>.push<span class="token punctuation">(</span><span class="token punctuation">{</span>
id: <span class="token string">&quot;u111111&quot;</span>,  
container: <span class="token string">&quot;_ei7jzolqhvd&quot;</span>, 
async: <span class="token boolean">true</span>  
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">!</span>-- 多条广告如下脚本只需引入一次 --<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script <span class="token assign-left variable">type</span><span class="token operator">=</span><span class="token string">&quot;text/javascript&quot;</span> <span class="token assign-left variable">src</span><span class="token operator">=</span><span class="token string">&quot;//cpro.baidustatic.com/cpro/ui/cm.js&quot;</span> <span class="token assign-left variable">async</span><span class="token operator">=</span><span class="token string">&quot;async&quot;</span> <span class="token assign-left variable">defer</span><span class="token operator">=</span><span class="token string">&quot;defer&quot;</span> <span class="token operator">&gt;</span><span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>配置广告</p> <ol><li><p>修改项目配置文件 .vuepress/config.js</p> <p>因为百度联盟要求该 js 文件只需要引入一次, 所以配置在 config.js 中。</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>module.exports <span class="token operator">=</span> <span class="token punctuation">{</span>  head: <span class="token punctuation">[</span>  
// 添加百度联盟广告的js    <span class="token punctuation">[</span>      <span class="token string">&quot;script&quot;</span>, 
<span class="token punctuation">{</span>        defer: <span class="token string">&quot;defer&quot;</span>,      
async: <span class="token string">&quot;async&quot;</span>,   
src: <span class="token string">&quot;//cpro.baidustatic.com/cpro/ui/cm.js&quot;</span> 
<span class="token punctuation">}</span>    <span class="token punctuation">]</span>,  <span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>创建广告位组件 .vuepress/components/WapFeedBaiduAd.vue</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>// 信息流广告<span class="token punctuation">(</span>异步方式<span class="token punctuation">)</span>
<span class="token operator">&lt;</span>template<span class="token operator">&gt;</span> 
<span class="token operator">&lt;</span>div <span class="token assign-left variable">class</span><span class="token operator">=</span><span class="token string">&quot;_vwkoulqtfei&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>/template<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>script<span class="token operator">&gt;</span>
<span class="token builtin class-name">export</span> default <span class="token punctuation">{</span> 
methods: <span class="token punctuation">{</span>  
/**     * 加载百度广告     * id值从百度联盟后台获取     */ 
<span class="token function-name function">loadBaiduAdAsync</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    
<span class="token punctuation">(</span>window.slotbydup <span class="token operator">=</span> window.slotbydup <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>.push<span class="token punctuation">(</span><span class="token punctuation">{</span>  
id: <span class="token string">&quot;u1111111&quot;</span>,        container: <span class="token string">&quot;_vwkoulqtfei&quot;</span>,  
async: <span class="token boolean">true</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token punctuation">}</span>  <span class="token punctuation">}</span>,  
<span class="token function-name function">mounted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
// 加载百度广告  
this.loadBaiduAdAsync<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token operator">&lt;</span>/script<span class="token operator">&gt;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><blockquote><p>提示</p> <p>注意将如上广告位组件中的 div 的 class、id、container 修改为实际值。</p> <p>这些值从上面步骤中获取</p></blockquote></li> <li><p>插入广告</p> <p>在文档的对应广告位处, 注入广告位组件 ArticleTopAd 即可。</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>## 联系方式&lt;WapFeedBaiduAd&gt;&lt;/WapFeedBaiduAd&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol></li></ul> <p>还有谷歌广告</p></details> <hr> <h3 id="seo优化"><a href="#seo优化" class="header-anchor">#</a> seo优化：</h3> <p>包含：title标题decription描述信息faicon图标author作者keywords关键词</p> <details class="custom-block details"><summary>配置详情</summary> <ul><li><p>页面配置:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// config.jsmodule.exports = {    title: &quot;填写网站的标题&quot;,    description: '填写网站描述',    head: [        ['meta', { name: 'keywords', content: '填写关键字'}]    ]}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>单独页面:若想对个别页面自定义 title、description 或 keywords, 可以通过 vuepress 提供的<a href="https://vuepress.vuejs.org/zh/guide/frontmatter.html#meta" target="_blank" rel="noopener noreferrer">frontmatter (opens new window)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>来为页面单独配置 meta 信息</p></li> <li><p><strong>安装百度自动推送代码</strong></p> <p>实现资源自动推送到百度搜索引擎。</p></li> <li><p>验证站点 访问<a href="https://ziyuan.baidu.com/" target="_blank" rel="noopener noreferrer">百度站长<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, 添加站点, 系统会给出验证代码, 复制, 并配置到 config.js 中</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// config.js// 百度站长的验证, 不能删除[&quot;meta&quot;, { name: &quot;baidu-site-verification&quot;, content: &quot;gZcjfbZtAw&quot; }],
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>安装自动推送代码</p> <p><a href="https://blog.sofineday.com/seo-push-baidu.html#%E6%8E%A8%E9%80%81%E4%BB%A3%E7%A0%81" target="_blank" rel="noopener noreferrer">推送资源到百度站长-验证站点<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <blockquote><p>提示:也可以使用 vuepress-plugin-baidu-autopush 插件实现该功能。但为了和其它站长的安装方法统一，则不借助第三方插件实现</p></blockquote> <p>创建.vuepress/public/assets/js/autopush-baidu.js</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>// 最好不要在本地访问页面，以免造成多域名重复推送问题
<span class="token punctuation">(</span><span class="token function-name function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
var bp <span class="token operator">=</span> document.createElement<span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
var curProtocol <span class="token operator">=</span> window.location.protocol.split<span class="token punctuation">(</span><span class="token string">&quot;:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>curProtocol <span class="token operator">==</span><span class="token operator">=</span> <span class="token string">&quot;https&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
bp.src <span class="token operator">=</span> <span class="token string">&quot;https://zz.bdstatic.com/linksubmit/push.js&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>   
bp.src <span class="token operator">=</span> <span class="token string">&quot;http://push.zhanzhang.baidu.com/push.js&quot;</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>  
var s <span class="token operator">=</span> document.getElementsByTagName<span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
s.parentNode.insertBefore<span class="token punctuation">(</span>bp, s<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>修改 config.js</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>//head  //添加百度站长的自动推送代码<span class="token punctuation">[</span>  <span class="token string">&quot;script&quot;</span>,  <span class="token punctuation">{</span>    src: <span class="token string">&quot;/assets/js/autopush-baidu.js&quot;</span>  <span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>安装 360 自动推送代码</p> <p>实现站点资源自动推送到 360 搜索引擎。</p> <p><strong>验证站点</strong></p> <p>访问<a href="http://zhanzhang.so.com/" target="_blank" rel="noopener noreferrer">360 站长 (opens new window)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>, 添加站点, 系统会给出验证代码, 复制验证代码, 并配置到 config.js 中
vi config.js</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//360站长的验证代码[  
&quot;meta&quot;,  {  
name: &quot;360-site-verification&quot;,
content: &quot;c87794c984680283c380b401a10321af&quot; 
}]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>安装自动推送代码:</p> <blockquote><p>提示</p> <p>不要使用 vuepress-plugin-qihu-autopush 插件,该插件有 bug，不会发生推送请求</p></blockquote> <p>创建.vuepress/public/assets/js/autopush-360.js</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>// 最好不要在本地访问页面，以免造成多域名重复推送问题
<span class="token punctuation">(</span><span class="token function-name function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
var src <span class="token operator">=</span>    
<span class="token string">&quot;https://jspassport.ssl.qhimg.com/11.0.1.js?d182b3f28525f2db83acfaaf6e696dba&quot;</span><span class="token punctuation">;</span>  
document.write<span class="token punctuation">(</span><span class="token string">'&lt;script src=&quot;'</span> + src + <span class="token string">'&quot; id=&quot;sozz&quot;&gt;
&lt;/script&gt;'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>修改 config.js</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 添加360站长的自动推送代码[  &quot;script&quot;,  {    src: &quot;/assets/js/autopush-360.js&quot;  }]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>还有 谷歌.神马.Bing,搜狗等站长推送 都不支持自动推送, 过程跟其他站长雷同</p></li> <li><p><strong>sitemap</strong></p> <ul><li><p>vuepress-plugin-sitemap 生成站点地图</p></li> <li><div class="language- line-numbers-mode"><pre class="language-text"><code>// sitemap生成插件
// .vuepress/config.js
module.exports = { 
plugins: {    
'sitemap': {     
hostname: &quot;https://www.sofineday.com&quot;, 
// 排除无实际内容的页面      
exclude: [&quot;/404.html&quot;]    }  }}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>详见<a href="https://github.com/ekoeryanto/vuepress-plugin-sitemap" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ul></li> <li><p><strong>robots.txt</strong></p> <ul><li>使用插件 vuepress-plugin-robots</li> <li>详见<a href="https://github.com/HiYue/vuepress-plugin-robots" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></li></ul></details> <hr> <h3 id="集成第三方搜索引擎"><a href="#集成第三方搜索引擎" class="header-anchor">#</a> 集成第三方搜索引擎</h3> <p>将第三方搜索的搜索入口会和内置搜索融为一体，当要搜索的内容没有出现在内置搜索中时，即可使用第三方搜索</p> <details class="custom-block details"><summary>配置详情</summary> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn add vuepress-plugin-thirdparty-search -D
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>修改 config.js, 添加插件配置</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>// 配置插件vuepress-plugin-thirdparty-search, 默认主题的搜索框集成第三方搜索引擎<span class="token punctuation">[</span> 
<span class="token string">&quot;thirdparty-search&quot;</span>,  <span class="token punctuation">{</span> 
thirdparty: <span class="token punctuation">[</span>    
// 可选，默认 <span class="token punctuation">[</span><span class="token punctuation">]</span>  
<span class="token punctuation">{</span>     
title: <span class="token string">&quot;在谷歌中搜索&quot;</span>, 
frontUrl: <span class="token string">&quot;https://www.google.com.hk/search?q=&quot;</span>  
<span class="token punctuation">}</span>,   
<span class="token punctuation">{</span>      
title: <span class="token string">&quot;在百度中搜索&quot;</span>,
// 在搜索结果显示的文字    
frontUrl: <span class="token string">&quot;https://www.baidu.com/s?wd=&quot;</span>, 
// 搜索链接的前面部分 
behindUrl: <span class="token string">&quot;&quot;</span> 
// 搜索链接的后面部分，可选，默认 <span class="token string">''</span>    
<span class="token punctuation">}</span>,    
<span class="token punctuation">{</span>    
title: <span class="token string">&quot;在360中搜索&quot;</span>,  
frontUrl: <span class="token string">&quot;https://www.so.com/s?q=&quot;</span>   
<span class="token punctuation">}</span>    <span class="token punctuation">]</span>  <span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div></details> <hr> <h3 id="统计分析"><a href="#统计分析" class="header-anchor">#</a> <strong>统计分析：</strong></h3> <details class="custom-block details"><summary>谷歌统计详情</summary> <p>步骤：</p> <ul><li><p><a href="https://developers.google.cn/" target="_blank" rel="noopener noreferrer">官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>  进行注册登录</p></li> <li><p>创建媒体资源  复制统计代码</p> <p><img src="https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200603112847.png" alt=""></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>&lt;!-- Global site tag (gtag.js) - Google Analytics --&gt;&lt;script async src=&quot;https://www.googletagmanager.com/gtag/js?id=UA-168383599-1&quot;&gt;&lt;/script&gt;&lt;script&gt;  window.dataLayer = window.dataLayer || [];  function gtag(){dataLayer.push(arguments);}  gtag('js', new Date());  gtag('config', 'UA-168383599-1');&lt;/script&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>安装依赖   (推荐方案)</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn add -D @vuepress/plugin-google-analytics
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>配置config.js</p> <div class="language- line-numbers-mode"><pre class="language-text"><code> module.exports = { 
 plugins: [   
 [      '@vuepress/google-analytics',  
 {        'ga': 'UA-00000000-0' //替换成自己实际申请的ID      }  
 ]  ]}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>参考<a href="https://vuepress.vuejs.org/plugin/official/plugin-google-analytics.html#install" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>不推荐方案(网上教程)</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>head: <span class="token punctuation">[</span>   
/*************** start 添加谷歌统计 ***********/   
<span class="token punctuation">[</span>      <span class="token string">&quot;script&quot;</span>,    
<span class="token punctuation">{</span>    
src: <span class="token string">&quot;https://www.googletagmanager.com/gtag/js?id=UA-168383599-1&quot;</span>,  
async: <span class="token boolean">true</span>      
<span class="token punctuation">}</span>    <span class="token punctuation">]</span>,  
<span class="token punctuation">[</span>      <span class="token string">&quot;script&quot;</span>,      <span class="token punctuation">{</span><span class="token punctuation">}</span>, 
<span class="token variable"><span class="token variable">`</span>        window.dataLayer <span class="token operator">=</span> window.dataLayer <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
<span class="token keyword">function</span> <span class="token function-name function">gtag</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>dataLayer.push<span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span>    
gtag<span class="token punctuation">(</span><span class="token string">'js'</span>, new Date<span class="token punctuation">(</span><span class="token punctuation">))</span><span class="token punctuation">;</span>     
gtag<span class="token punctuation">(</span><span class="token string">'config'</span>, <span class="token string">'UA-168383599-1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token variable">`</span></span>    <span class="token punctuation">]</span>,  
/*************** end 添加谷歌统计 ***********/ 
<span class="token punctuation">]</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div></li> <li><p>验证:</p> <p><img src="https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200615104149.png" alt=""></p> <p>推荐chrome 插件 Tag Assistant</p> <p>功能:检查 ga  gtm 以及其他谷歌营销先观代码</p></li></ul></details> <hr> <details class="custom-block details"><summary>百度统计详情</summary> <p>步骤：</p> <ul><li><p>官网：进行注册登录</p></li> <li><p>添加站点</p></li> <li><p>在config.js中添加配置</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>head: <span class="token punctuation">[</span>    // 添加百度统计   
<span class="token punctuation">[</span>      <span class="token string">&quot;script&quot;</span>,      <span class="token punctuation">{</span><span class="token punctuation">}</span>,  
<span class="token variable"><span class="token variable">`</span>      var _hmt <span class="token operator">=</span> _hmt <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
<span class="token punctuation">(</span><span class="token function-name function">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> 
var hm <span class="token operator">=</span> document.createElement<span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
hm.src <span class="token operator">=</span> <span class="token string">&quot;https://hm.baidu.com/hm.js?44212d6ce872df50b804d94b24889284&quot;</span><span class="token punctuation">;</span>  
var s <span class="token operator">=</span> document.getElementsByTagName<span class="token punctuation">(</span><span class="token string">&quot;script&quot;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  
s.parentNode.insertBefore<span class="token punctuation">(</span>hm, s<span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token variable">`</span></span>    <span class="token punctuation">]</span>  <span class="token punctuation">]</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>提示:</p> <p>vuepress 是基于 vue 的单页面应用，所以页面切换过程中，不会重新加载页面，故而不会触发百度统计.仅在访问首页或者刷新页面时才会触发  谷歌也都是一样的</p></blockquote></li></ul> <p>解决方法:监听路由切换事件，当切换页面时, 手动上报百度统计, 具体实现如下:</p> <p>编辑 .vuepress/enhanceApp.js</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code><span class="token builtin class-name">export</span> default <span class="token punctuation">(</span><span class="token punctuation">{</span> router <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> 
/**   * 路由切换事件处理   */  
router.beforeEach<span class="token punctuation">((</span>to, from, next<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>  
console.log<span class="token punctuation">(</span><span class="token string">&quot;切换路由&quot;</span>, to.fullPath, from.fullPath<span class="token punctuation">)</span><span class="token punctuation">;</span> 
//触发百度的pv统计 
<span class="token keyword">if</span> <span class="token punctuation">(</span>typeof _hmt <span class="token operator">!=</span> <span class="token string">&quot;undefined&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
<span class="token keyword">if</span> <span class="token punctuation">(</span>to.path<span class="token punctuation">)</span> <span class="token punctuation">{</span>    
_hmt.push<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;_trackPageview&quot;</span>, to.fullPath<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
console.log<span class="token punctuation">(</span><span class="token string">&quot;上报百度统计&quot;</span>, to.fullPath<span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span>    <span class="token punctuation">}</span>   
// <span class="token builtin class-name">continue</span>  
next<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><blockquote><p>提示</p> <p>切换路由就会触发统计上报。例:</p> <ul><li>首次访问</li> <li>刷新页面</li> <li>切换到当前文章的其他章节,所以一个人会促发多次上报</li></ul></blockquote> <p>更多详情请查阅:<a href="https://tongji.baidu.com/open/api/more?p=guide_overview" target="_blank" rel="noopener noreferrer">百度统计官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>还有cnzz统计<a href="https://www.umeng.com/" target="_blank" rel="noopener noreferrer">友盟统计后台<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 步骤差不多</p> <div class="language-shell line-numbers-mode"><pre class="language-shell"><code>//复制统计代码
https://v1.cnzz.com/z_stat.php?id<span class="token operator">=</span><span class="token number">1278957718</span><span class="token operator">&amp;</span><span class="token assign-left variable">web_id</span><span class="token operator">=</span><span class="token number">1278957718</span>
//配置统计代码head: <span class="token punctuation">[</span>  
// 添加cnzz统计  
<span class="token punctuation">[</span>      <span class="token string">&quot;script&quot;</span>,   
<span class="token punctuation">{</span>        src: <span class="token string">&quot;https://v1.cnzz.com/z_stat.php?id=1278957718&amp;web_id=1278957718&quot;</span>    
<span class="token punctuation">}</span>    <span class="token punctuation">]</span>  <span class="token punctuation">]</span>
//vi .vuepress/enhanceApp.js
<span class="token builtin class-name">export</span> default <span class="token punctuation">(</span><span class="token punctuation">{</span> router <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span> 
/**   * 路由切换事件处理   */ 
router.beforeEach<span class="token punctuation">((</span>to, from, next<span class="token punctuation">)</span> <span class="token operator">=</span><span class="token operator">&gt;</span> <span class="token punctuation">{</span>    
console.log<span class="token punctuation">(</span><span class="token string">&quot;切换路由&quot;</span>, to.fullPath, from.fullPath<span class="token punctuation">)</span><span class="token punctuation">;</span>  
//发送cnzz的pv统计 
<span class="token keyword">if</span> <span class="token punctuation">(</span>typeof _czc <span class="token operator">!=</span> <span class="token string">&quot;undefined&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>  
<span class="token keyword">if</span> <span class="token punctuation">(</span>to.path<span class="token punctuation">)</span> <span class="token punctuation">{</span>     
_czc.push<span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&quot;_trackPageview&quot;</span>, to.fullPath, from.fullPath<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  
console.log<span class="token punctuation">(</span><span class="token string">&quot;上报cnzz统计&quot;</span>, to.fullPath<span class="token punctuation">)</span><span class="token punctuation">;</span>   
<span class="token punctuation">}</span>    <span class="token punctuation">}</span>   
// <span class="token builtin class-name">continue</span> 
next<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div></details> <hr> <h3 id="侧边栏提示"><a href="#侧边栏提示" class="header-anchor">#</a> 侧边栏提示:</h3> <hr> <p>h1不参与生成侧边栏且 提议在文章开头添加h1文章标题 可优化seo ,文章其他标题全部可采用h2,h3....作为标题</p> <details class="custom-block details"><summary>配置详情</summary> <p><strong>自动配置:</strong></p> <p>通过自动配置生成的简单侧边栏，展示的侧边栏仅是针对当前页面的，比较独立，影响用户体验。</p> <p><strong>可使用使用 vdoing 主题自带的方案</strong></p> <p>vdoing 是基于 vuepress 默认主题开发的一个第三方主题，该主题提供的侧边栏生成方式非常友好，同时提供了目录页功能。</p> <p><a href="https://xugaoyi.github.io/vuepress-theme-vdoing-doc/" target="_blank" rel="noopener noreferrer">vuepress-theme-vdoing 主题的官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>//安装依赖yarn add -D vuepress-theme-vdoing
//配置主题为 vdoing  module.exports = {   
theme: 'vdoing' 
}//自动生成结构化侧边栏
module.exports = { 
themeConfig: {    
// 自动生成结构化侧边栏, 注意最多支持4级目录,切文件名前需要指定序号 
sidebar: 'structuring' 
//  'structuring' | { 
mode: 'structuring', collapsable: Boolean} | 'auto' | 自定义 
}}//按该主题的规范命名目录和文件以&quot;数字.&quot;开头
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><blockquote><p>提示:</p> <ol><li>有了目录页, 就可以对博客站点的目录结构有个整体的认识</li> <li>我们并不希望目录页文件被放到侧边栏, 解决方法:不对目录页文件加序号,因为这样的命名不符合该主题的规范,所以不会收录到侧边栏中</li> <li>只能对 docs 下的直接子目录生成目录页 并不是所有的目录都可以生成目录页。</li></ol></blockquote></details> <hr> <h3 id="评论"><a href="#评论" class="header-anchor">#</a> 评论</h3> <hr> <p>选型是 valine+leancloud, 支持匿名评论，缺点是数据没有存储在自己手里。市面上也有其他的方案, 如 gitalk,vssue 等, 但需要用户登录 github 才能发表评论, 但 github 经常无法连接,导致体验非常差。</p> <details class="custom-block details"><summary>评论配置详情</summary> <p>注册 leancloud</p> <hr> <ul><li><p>注册<a href="https://leancloud.cn/" target="_blank" rel="noopener noreferrer">leancloud<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>账号,创建应用</p></li> <li><p>复制 AppID 和 AppKey</p> <p><img src="https://cdn.jsdelivr.net/gh/wangshibiaoFlytiger/blog_picBed1/images/20200603172452.png" alt=""></p> <blockquote><p>提示</p> <p>可通过 leancloud 后台管理评论内容</p></blockquote></li></ul> <p>添加评论插件</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>yarn add vuepress-plugin-comment -D
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><ul><li>vi ./config.js</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>// 评论插件[  &quot;vuepress-plugin-comment&quot;,  {  
choosen: &quot;valine&quot;,  
// options选项中的所有参数，会传给Valine的配置 
options: {     
el: &quot;#valine-vuepress-comment&quot;,  
appId: &quot;cxPSbJA9SE1uXWt0ywBRl0Cr-gzGzoHsz&quot;,  
appKey: &quot;jKPdKyf3rUlfcVV03gPyBSd1&quot;,   
path: '&lt;%- frontmatter.to.path %&gt;'  
}  }]
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><blockquote><p>注意</p> <p>若不配置 path，则切换页面时评论内容不会刷新</p></blockquote> <p><a href="https://github.com/dongyuanxin/vuepress-plugin-comment" target="_blank" rel="noopener noreferrer">valine官详<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></details> <hr> <h3 id="保护隐私信息"><a href="#保护隐私信息" class="header-anchor">#</a> 保护隐私信息:</h3> <hr> <p>上传文件时防止隐私文件给push上去,所以我们要配置<code>.env</code>或<code>.gitignore</code></p> <p>详情可查<a href="https://git-scm.com/search/results?search=gitignore" target="_blank" rel="noopener noreferrer">git官网<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <details class="custom-block details"><summary>步骤</summary> <ul><li><p>在.vuepress下创建隐私.js文件,并且把私密信息写道其中</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>// xxx.jsmodule.exports = { 
appId: &quot;xxx&quot;,// your appId    
appKey: &quot;xxx&quot;, // your appKey  
avatar: &quot;&quot;, //}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div></li> <li><p>然后在(插件.js 或 config.js)相应的.js文件中导入xxx.js文件</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>const secret=require(&quot;./xxx.js&quot;)
//替换里面的内容
module.exports = { 
&quot;appId&quot;: secret.appId,// your appId  
&quot;appKey&quot;: secret.appKey, // your appKey    
&quot;avatar&quot;: secret.avatar //}
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li> <li><p>然后到.gitignore文件中隐藏刚刚的文件  加入</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>xxx.js
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>然后push验证</p></li></ul> <blockquote><p>提示:因为仓库没有这个文件所以要在本地保存好</p></blockquote></details> <p>资料来源于网络</p> <hr> <p>后记：</p> <blockquote><p>我们千万不要在样式上花费太多时间，多花些时间去沉淀</p></blockquote></div> <footer class="page-edit" style="display:none;"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">2021/10/13 下午7:47:22</span></div></footer> <!----> <!----> <!----></main> <!----></div></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-c6073ba8 data-v-c6073ba8><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-c6073ba8><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-c6073ba8></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-c6073ba8></path></svg></div><!----></div></div>
    <script src="/assets/js/app.7036e47e.js" defer></script><script src="/assets/js/4.ec8df83f.js" defer></script><script src="/assets/js/1.d2920358.js" defer></script><script src="/assets/js/2.245be42e.js" defer></script><script src="/assets/js/23.70b63e87.js" defer></script><script src="/assets/js/12.44af248e.js" defer></script>
  </body>
</html>
