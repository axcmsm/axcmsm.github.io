(window.webpackJsonp=window.webpackJsonp||[]).push([[60],{676:function(o,a,s){"use strict";s.r(a);var e=s(4),p=Object(e.a)({},(function(){var o=this,a=o.$createElement,s=o._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":o.$parent.slotKey}},[s("h2",{attrs:{id:"运行mr程序异常"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#运行mr程序异常"}},[o._v("#")]),o._v(" 运行mr程序异常")]),o._v(" "),s("p",[o._v("报错信息：")]),o._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[o._v("Error while processing statement: FAILED: Execution Error, return code 2 from org.apache.hadoop.hive.ql.exec.mr.MapRedTask\n")])]),o._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[o._v("1")]),s("br")])]),s("p",[o._v("查看日志")]),o._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[o._v("2021-08-31 01:36:18,784 ERROR org.apache.hadoop.hdfs.server.datanode.DataNode: RECEIVED SIGNAL 15: SIGTER\n")])]),o._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[o._v("1")]),s("br")])]),s("p",[o._v("意思是应该datanode内部通信异常 （应该是配置出了问题）")]),o._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[o._v("/opt/module/hadoop-3.1.4/share/hadoop/common/lib/error_prone_annotations-2.2.0.jar\n")])]),o._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[o._v("1")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[o._v("/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/error_prone_annotations-2.2.0.jar\n")])]),o._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[o._v("1")]),s("br")])]),s("p",[o._v("以及运行程序需要扫描这么jar包")]),o._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[o._v("/opt/module/hadoop-3.1.4/etc/hadoop:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/guava-27.0-jre.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/protobuf-java-2.5.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/commons-configuration2-2.1.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jetty-io-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jsp-api-2.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/snappy-java-1.0.5.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/stax2-api-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jackson-core-asl-1.9.13.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/curator-client-2.13.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jetty-server-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/kerb-core-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jackson-jaxrs-1.9.13.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/woodstox-core-5.0.3.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/netty-3.10.6.Final.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/commons-compress-1.19.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/token-provider-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jersey-core-1.19.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/httpclient-4.5.2.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/re2j-1.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/kerby-asn1-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jersey-servlet-1.19.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jetty-xml-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jetty-security-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/htrace-core4-4.1.0-incubating.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/hadoop-auth-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/zookeeper-3.4.13.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/kerby-config-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jackson-databind-2.9.10.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/audience-annotations-0.5.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jsr311-api-1.1.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/slf4j-log4j12-1.7.25.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/failureaccess-1.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/commons-net-3.6.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/j2objc-annotations-1.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/commons-codec-1.11.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/httpcore-4.4.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jsr305-3.0.2.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/commons-cli-1.2.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jackson-core-2.9.10.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jetty-http-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jetty-util-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/json-smart-2.3.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jackson-annotations-2.9.10.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jul-to-slf4j-1.7.25.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jackson-mapper-asl-1.9.13.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/commons-io-2.5.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/commons-math3-3.1.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jackson-xc-1.9.13.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/kerb-server-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/commons-logging-1.1.3.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/accessors-smart-1.2.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jaxb-impl-2.2.3-1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/javax.servlet-api-3.1.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/kerb-crypto-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/animal-sniffer-annotations-1.17.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jersey-server-1.19.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jetty-webapp-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/paranamer-2.3.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/kerb-simplekdc-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/kerby-util-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/kerby-pkix-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/commons-collections-3.2.2.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jetty-servlet-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/metrics-core-3.2.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jcip-annotations-1.0-1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/log4j-1.2.17.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/gson-2.2.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/hadoop-annotations-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/avro-1.7.7.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/nimbus-jose-jwt-7.9.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/curator-framework-2.13.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/kerb-admin-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/slf4j-api-1.7.25.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/commons-lang3-3.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/kerb-common-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jersey-json-1.19.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/commons-beanutils-1.9.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/kerb-identity-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/kerb-client-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/asm-5.0.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jsch-0.1.55.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/error_prone_annotations-2.2.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/commons-lang-2.6.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jaxb-api-2.2.11.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/curator-recipes-2.13.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/checker-qual-2.5.2.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/jettison-1.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/kerby-xdr-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/lib/kerb-util-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/hadoop-nfs-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/hadoop-kms-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/hadoop-common-3.1.4-tests.jar:/opt/module/hadoop-3.1.4/share/hadoop/common/hadoop-common-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/guava-27.0-jre.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/protobuf-java-2.5.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/commons-configuration2-2.1.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jetty-io-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/snappy-java-1.0.5.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/stax2-api-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jackson-core-asl-1.9.13.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/curator-client-2.13.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jetty-server-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/kerb-core-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jackson-jaxrs-1.9.13.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/woodstox-core-5.0.3.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/listenablefuture-9999.0-empty-to-avoid-conflict-with-guava.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/netty-3.10.6.Final.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/commons-compress-1.19.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/token-provider-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jersey-core-1.19.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/httpclient-4.5.2.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/re2j-1.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/kerby-asn1-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jersey-servlet-1.19.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jetty-xml-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jetty-security-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/htrace-core4-4.1.0-incubating.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/hadoop-auth-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/zookeeper-3.4.13.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/kerby-config-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/okio-1.6.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jackson-databind-2.9.10.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/audience-annotations-0.5.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jsr311-api-1.1.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/failureaccess-1.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/commons-net-3.6.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/j2objc-annotations-1.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/commons-codec-1.11.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/netty-all-4.1.48.Final.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/httpcore-4.4.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jsr305-3.0.2.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/commons-cli-1.2.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jackson-core-2.9.10.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jetty-http-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jetty-util-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/json-smart-2.3.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jackson-annotations-2.9.10.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jackson-mapper-asl-1.9.13.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/commons-io-2.5.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/commons-math3-3.1.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jackson-xc-1.9.13.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/kerb-server-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/commons-logging-1.1.3.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/accessors-smart-1.2.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jaxb-impl-2.2.3-1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/javax.servlet-api-3.1.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/kerb-crypto-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/animal-sniffer-annotations-1.17.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jersey-server-1.19.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jetty-webapp-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/paranamer-2.3.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/kerb-simplekdc-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/kerby-util-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/kerby-pkix-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/commons-collections-3.2.2.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jetty-servlet-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jcip-annotations-1.0-1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/log4j-1.2.17.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/okhttp-2.7.5.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/gson-2.2.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/leveldbjni-all-1.8.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/commons-daemon-1.0.13.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/hadoop-annotations-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/avro-1.7.7.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/nimbus-jose-jwt-7.9.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/curator-framework-2.13.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/kerb-admin-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/commons-lang3-3.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/kerb-common-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jersey-json-1.19.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/commons-beanutils-1.9.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/kerb-identity-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/kerb-client-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jetty-util-ajax-9.4.20.v20190813.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/asm-5.0.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jsch-0.1.55.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/error_prone_annotations-2.2.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/commons-lang-2.6.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jaxb-api-2.2.11.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/curator-recipes-2.13.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/checker-qual-2.5.2.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/jettison-1.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/kerby-xdr-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/kerb-util-1.0.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/json-simple-1.1.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/hadoop-hdfs-httpfs-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/hadoop-hdfs-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/hadoop-hdfs-native-client-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/hadoop-hdfs-rbf-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/hadoop-hdfs-nfs-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/hadoop-hdfs-3.1.4-tests.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/hadoop-hdfs-rbf-3.1.4-tests.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/hadoop-hdfs-native-client-3.1.4-tests.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/hadoop-hdfs-client-3.1.4-tests.jar:/opt/module/hadoop-3.1.4/share/hadoop/hdfs/hadoop-hdfs-client-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/mapreduce/lib/hamcrest-core-1.3.jar:/opt/module/hadoop-3.1.4/share/hadoop/mapreduce/lib/junit-4.11.jar:/opt/module/hadoop-3.1.4/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/mapreduce/hadoop-mapreduce-client-uploader-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/mapreduce/hadoop-mapreduce-client-common-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/mapreduce/hadoop-mapreduce-client-shuffle-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/mapreduce/hadoop-mapreduce-client-hs-plugins-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/mapreduce/hadoop-mapreduce-examples-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/mapreduce/hadoop-mapreduce-client-core-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/mapreduce/hadoop-mapreduce-client-hs-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/mapreduce/hadoop-mapreduce-client-jobclient-3.1.4-tests.jar:/opt/module/hadoop-3.1.4/share/hadoop/mapreduce/hadoop-mapreduce-client-nativetask-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/mapreduce/hadoop-mapreduce-client-app-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/snakeyaml-1.16.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/jersey-guice-1.19.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/jackson-jaxrs-json-provider-2.9.10.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/jackson-module-jaxb-annotations-2.9.10.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/ehcache-3.3.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/HikariCP-java7-2.4.12.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/json-io-2.5.1.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/jersey-client-1.19.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/java-util-1.9.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/mssql-jdbc-6.2.1.jre7.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/objenesis-1.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/geronimo-jcache_1.0_spec-1.0-alpha-1.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/guice-4.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/javax.inject-1.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/dnsjava-2.1.7.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/metrics-core-3.2.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/guice-servlet-4.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/jackson-jaxrs-base-2.9.10.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/aopalliance-1.0.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/fst-2.50.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/swagger-annotations-1.5.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-server-sharedcachemanager-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-server-common-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-applications-distributedshell-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-server-resourcemanager-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-applications-unmanaged-am-launcher-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-api-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-server-web-proxy-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-client-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-server-nodemanager-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-services-api-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-server-applicationhistoryservice-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-services-core-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-server-router-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-common-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-server-tests-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-server-timeline-pluginstorage-3.1.4.jar:/opt/module/hadoop-3.1.4/share/hadoop/yarn/hadoop-yarn-registry-3.1.4.jar\n")])]),o._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[o._v("1")]),s("br")])]),s("p",[o._v("然后我们就需要排查一下配置信息是否可以指定扫描")]),o._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[o._v("capacity-scheduler.xml            httpfs-log4j.properties     mapred-site.xml\nconfiguration.xsl                 httpfs-signature.secret     nohup.out\ncontainer-executor.cfg            httpfs-site.xml             shellprofile.d\ncore-site.xml                     kms-acls.xml                ssl-client.xml.example\nhadoop-env.cmd                    kms-env.sh                  ssl-server.xml.example\nhadoop-env.sh                     kms-log4j.properties        user_ec_policies.xml.template\nhadoop-metrics2.properties        kms-site.xml                workers\nhadoop-policy.xml                 log4j.properties            yarn-env.cmd\nhadoop-user-functions.sh.example  mapred-env.cmd              yarn-env.sh\nhdfs-site.xml                     mapred-env.sh               yarnservice-log4j.properties\nhttpfs-env.sh                     mapred-queues.xml.template  yarn-site.xml\n")])]),o._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[o._v("1")]),s("br"),s("span",{staticClass:"line-number"},[o._v("2")]),s("br"),s("span",{staticClass:"line-number"},[o._v("3")]),s("br"),s("span",{staticClass:"line-number"},[o._v("4")]),s("br"),s("span",{staticClass:"line-number"},[o._v("5")]),s("br"),s("span",{staticClass:"line-number"},[o._v("6")]),s("br"),s("span",{staticClass:"line-number"},[o._v("7")]),s("br"),s("span",{staticClass:"line-number"},[o._v("8")]),s("br"),s("span",{staticClass:"line-number"},[o._v("9")]),s("br"),s("span",{staticClass:"line-number"},[o._v("10")]),s("br"),s("span",{staticClass:"line-number"},[o._v("11")]),s("br")])]),s("p",[o._v("因为hdfs没问题 mr出了问题 应该是yarn或者是mapper出了问题")]),o._v(" "),s("p",[o._v("vim mapred-site.xml 、yarn-site.xml")]),o._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[o._v("mapreduce.application.classpath\n")])]),o._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[o._v("1")]),s("br")])]),s("p",[o._v("起初是以为内存溢出等一系列问题，")]),o._v(" "),s("p",[o._v("经过百度和排查最终确定是扫描问题")]),o._v(" "),s("p",[o._v("添加以下扫描位置：")]),o._v(" "),s("p",[o._v("由于mr运行申请yarn资源而yarn提交job运行任务需要切片加载xml文件和提交jar所以需要扫描下面的目录")]),o._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[o._v("mapperreduce\n\t\t/opt/module/hadoop-3.1.4/etc/hadoop,\n        /opt/module/hadoop-3.1.4/share/hadoop/common/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/common/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/hdfs/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/mapreduce/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/mapreduce/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/yarn/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/common/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/hdfs/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/mapreduce/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/mapreduce/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/yarn/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/*\n")])]),o._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[o._v("1")]),s("br"),s("span",{staticClass:"line-number"},[o._v("2")]),s("br"),s("span",{staticClass:"line-number"},[o._v("3")]),s("br"),s("span",{staticClass:"line-number"},[o._v("4")]),s("br"),s("span",{staticClass:"line-number"},[o._v("5")]),s("br"),s("span",{staticClass:"line-number"},[o._v("6")]),s("br"),s("span",{staticClass:"line-number"},[o._v("7")]),s("br"),s("span",{staticClass:"line-number"},[o._v("8")]),s("br"),s("span",{staticClass:"line-number"},[o._v("9")]),s("br"),s("span",{staticClass:"line-number"},[o._v("10")]),s("br"),s("span",{staticClass:"line-number"},[o._v("11")]),s("br"),s("span",{staticClass:"line-number"},[o._v("12")]),s("br"),s("span",{staticClass:"line-number"},[o._v("13")]),s("br"),s("span",{staticClass:"line-number"},[o._v("14")]),s("br"),s("span",{staticClass:"line-number"},[o._v("15")]),s("br"),s("span",{staticClass:"line-number"},[o._v("16")]),s("br")])]),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[o._v("yarn\n\t\t/opt/module/hadoop-3.1.4/etc/hadoop,\n        /opt/module/hadoop-3.1.4/share/hadoop/common/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/common/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/hdfs/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/mapreduce/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/mapreduce/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/yarn/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/*\n")])]),o._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[o._v("1")]),s("br"),s("span",{staticClass:"line-number"},[o._v("2")]),s("br"),s("span",{staticClass:"line-number"},[o._v("3")]),s("br"),s("span",{staticClass:"line-number"},[o._v("4")]),s("br"),s("span",{staticClass:"line-number"},[o._v("5")]),s("br"),s("span",{staticClass:"line-number"},[o._v("6")]),s("br"),s("span",{staticClass:"line-number"},[o._v("7")]),s("br"),s("span",{staticClass:"line-number"},[o._v("8")]),s("br"),s("span",{staticClass:"line-number"},[o._v("9")]),s("br"),s("span",{staticClass:"line-number"},[o._v("10")]),s("br")])]),s("p",[o._v("出现出现此类扫描问题应该是没有配置MapTask环境变量")]),o._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("yarn.app.mapreduce.am.env"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("HADOOP_MAPRED_HOME=${HADOOP_HOME}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("mapreduce.map.env"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("HADOOP_MAPRED_HOME=${HADOOP_HOME}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("mapreduce.reduce.env"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n  "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("HADOOP_MAPRED_HOME=${HADOOP_HOME}"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n")])]),o._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[o._v("1")]),s("br"),s("span",{staticClass:"line-number"},[o._v("2")]),s("br"),s("span",{staticClass:"line-number"},[o._v("3")]),s("br"),s("span",{staticClass:"line-number"},[o._v("4")]),s("br"),s("span",{staticClass:"line-number"},[o._v("5")]),s("br"),s("span",{staticClass:"line-number"},[o._v("6")]),s("br"),s("span",{staticClass:"line-number"},[o._v("7")]),s("br"),s("span",{staticClass:"line-number"},[o._v("8")]),s("br"),s("span",{staticClass:"line-number"},[o._v("9")]),s("br"),s("span",{staticClass:"line-number"},[o._v("10")]),s("br"),s("span",{staticClass:"line-number"},[o._v("11")]),s("br"),s("span",{staticClass:"line-number"},[o._v("12")]),s("br")])]),s("hr"),o._v(" "),s("p",[o._v("也可以直接指定扫描：")]),o._v(" "),s("p",[s("code",[o._v("mapred-site.xml")])]),o._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("mapreduce.application.classpath"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n        /opt/module/hadoop-3.1.4/etc/hadoop,\n        /opt/module/hadoop-3.1.4/share/hadoop/common/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/common/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/hdfs/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/mapreduce/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/mapreduce/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/yarn/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/common/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/hdfs/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/mapreduce/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/mapreduce/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/yarn/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/*\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n")])]),o._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[o._v("1")]),s("br"),s("span",{staticClass:"line-number"},[o._v("2")]),s("br"),s("span",{staticClass:"line-number"},[o._v("3")]),s("br"),s("span",{staticClass:"line-number"},[o._v("4")]),s("br"),s("span",{staticClass:"line-number"},[o._v("5")]),s("br"),s("span",{staticClass:"line-number"},[o._v("6")]),s("br"),s("span",{staticClass:"line-number"},[o._v("7")]),s("br"),s("span",{staticClass:"line-number"},[o._v("8")]),s("br"),s("span",{staticClass:"line-number"},[o._v("9")]),s("br"),s("span",{staticClass:"line-number"},[o._v("10")]),s("br"),s("span",{staticClass:"line-number"},[o._v("11")]),s("br"),s("span",{staticClass:"line-number"},[o._v("12")]),s("br"),s("span",{staticClass:"line-number"},[o._v("13")]),s("br"),s("span",{staticClass:"line-number"},[o._v("14")]),s("br"),s("span",{staticClass:"line-number"},[o._v("15")]),s("br"),s("span",{staticClass:"line-number"},[o._v("16")]),s("br"),s("span",{staticClass:"line-number"},[o._v("17")]),s("br"),s("span",{staticClass:"line-number"},[o._v("18")]),s("br"),s("span",{staticClass:"line-number"},[o._v("19")]),s("br"),s("span",{staticClass:"line-number"},[o._v("20")]),s("br")])]),s("p",[s("code",[o._v("yarn-site.xml")])]),o._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("yarn.application.classpath"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n        /opt/module/hadoop-3.1.4/etc/hadoop,\n        /opt/module/hadoop-3.1.4/share/hadoop/common/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/common/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/hdfs/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/hdfs/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/mapreduce/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/mapreduce/lib/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/yarn/*,\n        /opt/module/hadoop-3.1.4/share/hadoop/yarn/lib/*\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v(" \n")])]),o._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[o._v("1")]),s("br"),s("span",{staticClass:"line-number"},[o._v("2")]),s("br"),s("span",{staticClass:"line-number"},[o._v("3")]),s("br"),s("span",{staticClass:"line-number"},[o._v("4")]),s("br"),s("span",{staticClass:"line-number"},[o._v("5")]),s("br"),s("span",{staticClass:"line-number"},[o._v("6")]),s("br"),s("span",{staticClass:"line-number"},[o._v("7")]),s("br"),s("span",{staticClass:"line-number"},[o._v("8")]),s("br"),s("span",{staticClass:"line-number"},[o._v("9")]),s("br"),s("span",{staticClass:"line-number"},[o._v("10")]),s("br"),s("span",{staticClass:"line-number"},[o._v("11")]),s("br"),s("span",{staticClass:"line-number"},[o._v("12")]),s("br"),s("span",{staticClass:"line-number"},[o._v("13")]),s("br"),s("span",{staticClass:"line-number"},[o._v("14")]),s("br")])]),s("p",[o._v("配置完，分发脚本、重启集群即可")]),o._v(" "),s("p",[s("strong",[o._v("注意")]),o._v("：")]),o._v(" "),s("p",[o._v("#在hadoop3.0-3.1需要配置："),s("code",[o._v("HADOOP_MAPRED_HOM")]),o._v(" 注意")]),o._v(" "),s("div",{staticClass:"language-xml line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-xml"}},[s("code",[o._v("配置yarn-site.xml\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[o._v("\x3c!-- 环境变量的继承 --\x3e")]),o._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("yarn.nodemanager.env-whitelist"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("name")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n        "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("<")]),o._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("JAVA_HOME,HADOOP_COMMON_HOME,HADOOP_HDFS_HOME,HADOOP_CONF_DIR,CLASSPATH_PREPEND_DISTCACHE,HADOOP_YARN_HOME,HADOOP_MAPRED_HOME"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("value")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n    "),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v("</")]),o._v("property")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[o._v(">")])]),o._v("\n\n")])]),o._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[o._v("1")]),s("br"),s("span",{staticClass:"line-number"},[o._v("2")]),s("br"),s("span",{staticClass:"line-number"},[o._v("3")]),s("br"),s("span",{staticClass:"line-number"},[o._v("4")]),s("br"),s("span",{staticClass:"line-number"},[o._v("5")]),s("br"),s("span",{staticClass:"line-number"},[o._v("6")]),s("br"),s("span",{staticClass:"line-number"},[o._v("7")]),s("br")])]),s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[o._v("#")]),o._v(" 总结")]),o._v(" "),s("blockquote",[s("p",[o._v("遇到问题、先查看日志，查找错误信息、分析问题、查找解决问题的方法")]),o._v(" "),s("ul",[s("li",[o._v("除了配置问题之外")]),o._v(" "),s("li",[o._v("当内存不够时运行并行度机制时也会发生异常")])]),o._v(" "),s("p",[o._v("查看：文件占用情况")]),o._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[o._v("hdfs dfs -du -h -s   /文件路径\n")])]),o._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[o._v("1")]),s("br")])]),s("p",[o._v("debug、和日志是解决bug的好帮手、当然还有谷歌百度等。")])])])}),[],!1,null,null,null);a.default=p.exports}}]);